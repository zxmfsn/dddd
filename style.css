  /* 1. é‡ç½®åŸºç¡€æ ·å¼ */

   @font-face {
    font-family: 'CustomCute';
   @import url('https://fonts.googleapis.com/css2?family=Zhi+Mang+Xing&display=swap');
    font-weight: normal;
    font-style: normal;
}

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        /* 2. æµè§ˆå™¨çª—å£æ ·å¼ (èƒŒæ™¯å°) */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            
            /* â–¼â–¼â–¼ å…³é”®ç‚¹1ï¼šæŠŠ body èƒŒæ™¯æ”¹æˆæ·±ç°è‰²ï¼Œæ¨¡æ‹Ÿæ¡Œå­ â–¼â–¼â–¼ */
            background: #2c3e50; 
            
            /* â–¼â–¼â–¼ å…³é”®ç‚¹2ï¼šè®©æ‰‹æœºå®¹å™¨åœ¨æµè§ˆå™¨æ­£ä¸­é—´ â–¼â–¼â–¼ */
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden; /* é˜²æ­¢æµè§ˆå™¨å‡ºç°æ»šåŠ¨æ¡ */
        }
        
        /* 3. æ‰‹æœºå®¹å™¨æ ·å¼ (é™åˆ¶èŒƒå›´) */
        .phone-screen {
            /* â–¼â–¼â–¼ å…³é”®ç‚¹3ï¼šå¿…é¡»å†™ width è€Œä¸æ˜¯ max-widthï¼Œå¼ºåˆ¶å›ºå®šå®½åº¦ â–¼â–¼â–¼ */
            width: 375px;
            height: 100vh; /* æˆ–è€…å†™ 812px æ¨¡æ‹Ÿ iPhone X é«˜åº¦ */
            
            /* â–¼â–¼â–¼ å…³é”®ç‚¹4ï¼šè¿™é‡Œå¿…é¡»æ˜¯ relativeï¼Œå®ƒæ˜¯æ‰€æœ‰å†…éƒ¨æ‚¬æµ®å…ƒç´ çš„â€œçˆ¸çˆ¸â€ â–¼â–¼â–¼ */
            position: relative; 
            
            /* â–¼â–¼â–¼ å…³é”®ç‚¹5ï¼šå£çº¸æ¬å®¶åˆ°è¿™é‡Œæ¥äº† â–¼â–¼â–¼ */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-size: cover;
            background-position: center;
            
            /* åŠ ç‚¹é˜´å½±è®©å®ƒåƒä¸ªæ‰‹æœº */
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            color: white;
            overflow: hidden;
            margin: 0 auto;
        }

        /* 4. ç¡®ä¿ä¸»å±å¹•å æ»¡æ‰‹æœºå®¹å™¨ */
        .main-screen {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* å…è®¸ä¸»å±å¹•å†…éƒ¨æ»šåŠ¨ */
        }
        
        .user-info {
            text-align: center;
            padding: 60px 20px 40px;
            cursor: pointer;
        }
        
        .avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.3);
            overflow: hidden;
        }
        
        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .user-id {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        .signature {
            font-size: 14px;
            opacity: 0.9;
            font-style: italic;
        }
        
.apps-grid {
    /* padding: 0 30px;  <-- ä¿®æ”¹è¿™ä¸€è¡Œ */
    padding: 0 15px;     /* æ”¹å°å†…è¾¹è· */
    
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(2, 1fr);
    
    /* gap: 25px;        <-- ä¿®æ”¹è¿™ä¸€è¡Œ */
    gap: 15px;           /* æ”¹å°é—´è·ï¼ŒåŸæ¥çš„25pxå¤ªå®½äº† */
    
    margin-bottom: 20px;
    
    /* â–¼â–¼â–¼ æ–°å¢ï¼šè®©æ•´ä¸ªç½‘æ ¼åœ¨å®¹å™¨é‡Œæ°´å¹³å±…ä¸­ â–¼â–¼â–¼ */
    justify-content: center; 
}
        
             .app-icon-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
     .app-icon {
    /* width: 65px;      <-- ä¿®æ”¹è¿™ä¸€è¡Œ */
    width: 58px;         /* æ”¹æˆ 58pxï¼Œè§†è§‰ä¸Šå‡ ä¹çœ‹ä¸å‡ºåŒºåˆ«ï¼Œä½†ç©ºé—´å°±å¤Ÿäº† */
    
    /* height: 65px;     <-- ä¿®æ”¹è¿™ä¸€è¡Œ */
    height: 58px;        /* ä¿æŒæ­£æ–¹å½¢ */
    
    /* ä¸‹é¢çš„ä¿æŒä¸å˜ */
    border-radius: 18px;
    cursor: pointer;
    transition: transform 0.3s ease;
    overflow: hidden;
}


        .app-icon:hover {
            transform: scale(1.05);
            background: rgba(255,255,255,0.25);
        }
        
        .app-icon:active {
            transform: scale(0.95);
        }
        
        .app-emoji {
            font-size: 24px;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .app-emoji img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
/* â–¼â–¼â–¼ å¼ºåˆ¶è¦†ç›–æ ·å¼ï¼Œç¡®ä¿æ˜¾ç¤ºçº¿æ¡ â–¼â–¼â–¼ */
.ins-icon-box {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: transparent !important; /* å»æ‰èƒŒæ™¯è‰² */
}

.ins-icon-box svg {
    width: 32px !important;       /* å›¾æ ‡ç¨å¾®å¤§ä¸€ç‚¹ç‚¹ */
    height: 32px !important;
    stroke: #ffffff !important;   /* å¼ºåˆ¶çº¯ç™½çº¿æ¡ */
    stroke-width: 1.5px !important;
    fill: none !important;        /* å¼ºåˆ¶å»å¡«å…… */
    stroke-linecap: round;
    stroke-linejoin: round;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.15));
}

        .app-name {
            font-size: 10px;
            text-align: center;
            opacity: 0.9;
            font-weight: 500;
        }

        
        .app-icon:hover {
            transform: scale(1.05);
            background: rgba(255,255,255,0.25);
        }
        
        .app-icon:active {
            transform: scale(0.95);
        }
        
        .app-emoji {
            font-size: 24px;
            margin-bottom: 4px;
        }
        
        .app-name {
            font-size: 10px;
            text-align: center;
            opacity: 0.9;
            font-weight: 500;
        }
        

.bottom-space {
    flex: 1;
    min-height: 20px; 
}
        
        /* å£çº¸é¡µé¢æ ·å¼ */
        .wallpaper-screen {
            height: 100vh;
            background: white;
            color: #333;
            display: none;
            flex-direction: column;
        }
        
        .wallpaper-header {
            display: flex;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .back-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: transparent;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s;
            padding: 0;
        }
        
        .back-btn:hover {
            background: rgba(0,0,0,0.05);
        }

        /* é€šç”¨è¿”å›æŒ‰é’®SVGæ ·å¼ */
        .back-btn svg {
            width: 24px;
            height: 24px;
            stroke: #333;
            stroke-width: 2.5;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        
        .header-title {
            flex: 1;
            text-align: center;
            font-size: 16px;
            font-weight: 600;
            margin-right: 40px;
        }
        
        .wallpaper-content {
            flex: 1;
            padding: 30px 20px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 25px;
            color: #333;
        }
        
        .wallpaper-editor {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }
        
        .preview-area {
            flex-shrink: 0;
        }
        
        .preview-phone {
            width: 120px;
            height: 200px;
            border-radius: 20px;
            border: 3px solid #ddd;
            overflow: hidden;
            position: relative;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .preview-phone img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .preview-label {
            text-align: center;
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }
        
        .input-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .tab-buttons {
            display: flex;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #ddd;
        }
        
        .tab-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: #f8f8f8;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .tab-btn.active {
            background: #667eea;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .file-input-area {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        
        .file-input-area:hover {
            border-color: #667eea;
        }
        
        .file-input-area input {
            display: none;
        }
        
      .url-input {
    width: 100%;
    padding: 12px;
    border: 2px solid #e1e5e9;
    border-radius: 8px;
    font-size: 16px;  /* â† æ”¹æˆ16px */
    outline: none;
    transition: border-color 0.3s;
}
        
        .url-input:focus {
            border-color: #667eea;
        }
        
        .save-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.3s;
            align-self: flex-start;
            margin-top: 10px;
        }
        
        .save-btn:hover {
            background: #5a6fd8;
        }
        
        .save-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        /* å¼¹çª—æ ·å¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 320px;
            max-width: 90%;
            color: #333;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 25px;
            color: #333;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }
        /* é¢œè‰²é€‰æ‹©å™¨ä¼˜åŒ– */


.color-preview {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    border: 2px solid #e1e5e9;
    cursor: pointer;
    flex-shrink: 0;
    transition: transform 0.2s;
    position: relative;
    overflow: hidden;
}


.color-preview:active {
    transform: scale(0.95);
}



        .form-input {
            width: 100%;
          max-width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s;
        }
        
        .form-input:focus {
            border-color: #667eea;
        }
        
        .avatar-preview {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #f0f0f0;
            margin: 10px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 2px solid #e1e5e9;
        }
        
        .avatar-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .file-input {
            display: none;
        }
        
        .file-button {
            background: #667eea;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            display: inline-block;
            font-size: 14px;
            transition: background 0.3s;
        }
        
        .file-button:hover {
            background: #5a6fd8;
        }
        
        .modal-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        
        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-cancel {
            background: #f0f0f0;
            color: #666;
        }
        
        .btn-cancel:hover {
            background: #e0e0e0;
        }
        
        .btn-save {
            background: #667eea;
            color: white;
        }
        
        .btn-save:hover {
            background: #5a6fd8;
        }
/* ä¸–ç•Œä¹¦é¡µé¢æ ·å¼ */
.worldbook-screen {
    height: 100vh;
    background: white;
    color: #333;
    display: none;
    flex-direction: column;
}

.worldbook-header {
    display: flex;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #eee;
}

.category-bar {
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
    overflow-x: auto;
    white-space: nowrap;
}

.category-tags {
    display: flex;
    gap: 10px;
}

.category-tag {
    padding: 8px 16px;
    border-radius: 20px;
    border: 1px solid #ddd;
    background: #f8f8f8;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.3s;
    flex-shrink: 0;
}

.category-tag.active {
    background: #667eea;
    color: white;
    border-color: #667eea;
}

.worldbook-content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
}

.worldbook-card {
    background: white;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 15px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border: 1px solid #eee;
}

.card-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 8px;
    color: #333;
}

.card-preview {
    font-size: 14px;
    color: #666;
    margin-bottom: 10px;
    line-height: 1.4;
}

.card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.card-category {
    background: #f0f0f0;
    color: #666;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
}

.card-actions {
    display: flex;
    gap: 8px;
}

.action-btn {
    padding: 4px 8px;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-edit {
    background: #667eea;
    color: white;
}

.btn-delete {
    background: #ff4757;
    color: white;
}

.add-btn {
   position: absolute;
    bottom: 30px;
    right: 30px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: #667eea;
    color: white;
    border: none;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    transition: all 0.3s;
    z-index: 100;
}

.add-btn:hover {
    transform: scale(1.1);
}
/* APIè®¾ç½®é¡µé¢æ ·å¼ */
.api-screen {
    height: 100vh;
    background: white;
    color: #333;
    display: none;
    flex-direction: column;
}

.api-header {
    display: flex;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #eee;
}

.api-content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
}



.btn-test, .btn-save, .btn-save-scheme {
    padding: 14px;
    border: none;
    border-radius: 8px;
    font-size: 15px;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-test {
    background: #48dbfb;
    color: white;
}

.btn-test:hover {
    background: #0abde3;
}

.btn-save {
    background: #1dd1a1;
    color: white;
}

.btn-save:hover {
    background: #10ac84;
}

.btn-save-scheme {
    background: #667eea;
    color: white;
}

.btn-save-scheme:hover {
    background: #5a6fd8;
}
/* èŠå¤©é¡µé¢æ ·å¼ */
.chat-screen {
    height: 100vh;
    background: #f8f9fa; 
    color: #333;
    display: none;
    flex-direction: column;
}

.chat-header {
    display: flex;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #eee;
}

/* æœ‹å‹åœˆå…¥å£å¡ç‰‡ */

  .moments-card {
     margin: 10px 15px 15px;
    padding: 18px 20px;
    background: #ffffff; 
    border-radius: 18px;
    backdrop-filter: none;
    border: none;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.03);
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    transition: all 0.3s;
}

.moments-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
}

.moments-left {
    display: flex;
    align-items: center;
    gap: 10px;
}

.moments-icon {
    font-size: 24px;
}

.moments-text {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.moments-title {
    font-size: 15px;
    font-weight: 600;
    color: #2c2c2c;
}

.moments-desc {
    font-size: 12px;
    color: #999;
}

.moments-arrow {
    font-size: 18px;
    color: #667eea;
}



/* èŠå¤©åˆ—è¡¨åŒºåŸŸ */
.chat-list-container {
    flex: 1;
    overflow-y: auto;
    padding: 10px 15px 100px; 
    background: transparent; 
}
/* åº•éƒ¨åˆ†ç»„æ  */
.chat-bottom-tabs {
    position: absolute;
    /* è·ç¦»åº•éƒ¨æ‚¬æµ® 25px */
    bottom: 25px;
    /* å·¦å³ç•™ç©ºï¼Œå±…ä¸­ */
    left: 20px;
    right: 20px;
    max-width: 335px; /* 375 - 40 */
    margin: 0 auto;
    
    /* é«˜çº§æ¯›ç»ç’ƒèƒŒæ™¯ */
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    
    /* å»æ‰é¡¶éƒ¨è¾¹æ¡†ï¼Œæ”¹ç”¨å››å‘¨åœ†è§’ */
    border-top: none;
    border-radius: 30px; /* å…¨åœ†è§’èƒ¶å›ŠçŠ¶ */
    
    /* å¼ºçƒˆçš„æ‚¬æµ®æŠ•å½± */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    
    display: flex;
    justify-content: space-around; /* å›¾æ ‡åˆ†æ•£å¯¹é½ */
    padding: 10px 10px;
    z-index: 101;
    border: 1px solid rgba(255,255,255,0.5); /* æç»†å†…å‘å…‰è¾¹æ¡† */
}

.bottom-tab {
    filter: none !important; 
}

/* ============ æ–°å¢ï¼šSVGå›¾æ ‡é€šç”¨æ ·å¼ ============ */
.ins-icon {
    width: 28px;
    height: 28px;
    stroke: #999;     /* é»˜è®¤ç°è‰²çº¿æ¡ */
    stroke-width: 1.8px; /* çº¿æ¡ç²—ç»† */
    fill: none;       /* é»˜è®¤ä¸å¡«å…… */
    stroke-linecap: round;
    stroke-linejoin: round;
    transition: all 0.3s ease;
}

/* æœ‹å‹åœˆå…¥å£çš„å›¾æ ‡ç¨å¾®å¤§ä¸€ç‚¹ï¼Œé¢œè‰²æ·±ä¸€ç‚¹ */
.moments-icon .ins-icon {
    width: 32px;
    height: 32px;
    stroke: #333; /* æ·±ç°è‰² */
    stroke-width: 1.5px;
}

/* ============ ä¿®æ”¹ï¼šåº•éƒ¨æ æ¿€æ´»çŠ¶æ€ ============ */
/* åº•éƒ¨æ å›¾æ ‡é»˜è®¤çŠ¶æ€ */
.bottom-tab .ins-icon {
    stroke: #999; /* æœªé€‰ä¸­æ˜¯ç°è‰² */
}

/* åº•éƒ¨æ æ¿€æ´»çŠ¶æ€ (active) */
.bottom-tab.active .ins-icon {
    stroke: #2c2c2c; /* é€‰ä¸­å˜æ·±é»‘ */
    stroke-width: 2.5px; /* é€‰ä¸­çº¿æ¡å˜ç²—ï¼Œæ›´æœ‰è´¨æ„Ÿ */
    /* å¦‚æœæƒ³åšæˆé€‰ä¸­å˜å®å¿ƒï¼Œå¯ä»¥åœ¨è¿™é‡ŒåŠ  fill: #2c2c2c; ä½†çº¿æ€§é£æ ¼é€šå¸¸æ˜¯å˜ç²— */
    transform: scale(1.05); /* å¾®å¾®æ”¾å¤§ */
}

/* å»æ‰ä¹‹å‰å¯èƒ½å­˜åœ¨çš„ grayscale æ»¤é•œï¼Œå› ä¸ºç°åœ¨ç›´æ¥æ§åˆ¶ stroke é¢œè‰² */
.bottom-tab {
    filter: none !important; 
}

.chat-item {
    display: flex;
    align-items: center;
    padding: 12px;
    background: white;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.3s ease;
    border: 1px solid #f0f0f0;
    position: relative; /* ç¡®ä¿è¿™ä¸€è¡Œå­˜åœ¨ */
    z-index: 2;
}


.chat-item:hover {
    background: #f8f8f8;
}

.chat-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: #e0e0e0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    flex-shrink: 0;
    margin-right: 12px;
}

.chat-info {
    flex: 1;
    min-width: 0;
}

.chat-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 4px;
}

.chat-name {
    font-size: 15px;
    font-weight: 600;
    color: #333;
}

.chat-time {
    font-size: 11px;
    color: #999;
}

.chat-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.chat-preview {
    font-size: 13px;
    color: #666;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 200px;
}

.chat-badge {
    background: #ff4757;
    color: white;
    font-size: 11px;
    padding: 2px 6px;
    border-radius: 10px;
    min-width: 18px;
    text-align: center;
}


.add-btn {
   position: absolute;
    bottom: 30px;
    right: 30px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: #667eea;
    color: white;
    border: none;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    transition: all 0.3s;
    z-index: 100;
    display: none; /* é»˜è®¤éšè— */
}

.add-btn:hover {
    transform: scale(1.1);
}

/* åœ¨ä¸–ç•Œä¹¦å’ŒèŠå¤©é¡µé¢æ˜¾ç¤º */
.worldbook-screen .add-btn,
.chat-screen .add-btn {
    display: block;
}

  /* èŠå¤©é¡µé¢çš„æ·»åŠ æŒ‰é’®ä½ç½®ä¸Šç§» */
.chat-screen .add-btn {
    /* æé«˜ä½ç½®ï¼Œé¿å¼€æ‚¬æµ®æ  */
    bottom: 100px; 
    right: 25px;
    
    /* é£æ ¼è°ƒæ•´ï¼šInsé£æ¸å˜æˆ–çº¯é»‘ */
    background: #2c2c2c; /* çº¯é»‘é«˜çº§æ„Ÿ */
    /* æˆ–è€…ä¿ç•™ä½ åŸæ¥çš„æ¸å˜ï¼Œæ”¹ä¸ºï¼šbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%); */
    
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    width: 50px;
    height: 50px;
    border-radius: 20px; /* æ–¹åœ†å½¢æ›´ç¬¦åˆç°åœ¨çš„iOSè®¾è®¡ */
}
    /* æˆå‘˜é€‰æ‹©åˆ—è¡¨æ ·å¼ */
.member-item {
    display: flex;
    align-items: center;
    padding: 12px;
    border-bottom: 1px solid #f0f0f0;
    cursor: pointer;
    transition: background 0.3s;
}

.member-item:hover {
    background: #f8f8f8;
}

.member-item:last-child {
    border-bottom: none;
}

.member-checkbox {
    width: 20px;
    height: 20px;
    margin-right: 12px;
    cursor: pointer;
}

.member-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #e0e0e0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    margin-right: 12px;
}

.member-name {
    font-size: 15px;
    color: #333;
}
/* å·¦æ»‘æ“ä½œç›¸å…³æ ·å¼ */
.chat-item-wrapper {
   
    margin-bottom: 12px;
    border-radius: 18px;
   
    overflow: visible; 
}

.chat-item {
    display: flex;
    align-items: center;
    padding: 15px;
    /* çº¯ç™½å¡ç‰‡èƒŒæ™¯ */
    background: #ffffff;
    /* å¤§åœ†è§’ */
    border-radius: 18px;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s;
    /* å»æ‰ä¹‹å‰çš„è¾¹æ¡† */
    border: none;
    /* ææ·¡é˜´å½± */
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.02);
    position: relative;
    z-index: 2;
}
.chat-item:hover {
    /* æ‚¬åœå¾®ä¸Šæµ® */
    background: #ffffff;
    transform: translateY(-1px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
}

.chat-actions {
    position: absolute;
    right: 0;
    top: 0;
    height: 100%;
    display: flex;
    z-index: 1;
    transform: translateX(100%); /* ç”¨transforméšè— */
    transition: transform 0.3s ease;
     border-radius: 0 18px 18px 0; /* åªæœ‰å³ä¾§åœ†è§’ */
    overflow: hidden; /* è£å‰ªåœ†è§’ */
}
.action-btn-slide {
    width: 80px;
    border: none;
    color: white;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
}

.action-pin {
    background: #667eea;
}

.action-pin:active {
    background: #5a6fd8;
}

.action-delete {
    background: #ff4757;
}

.action-delete:active {
    background: #ee5a6f;
}

.pin-badge {
    position: absolute;
    top: 0;
    right: 0;
    color: #667eea;
    font-size: 16px;
    z-index: 3;
    padding: 0px 0px;
 
    border-bottom-left-radius: 12px;
    border-top-right-radius: 12px;
}
/* èŠå¤©è¯¦æƒ…é¡µé¢æ ·å¼ */
.chat-detail-screen {
    height: 100vh;
    background: white;
    display: none;
    flex-direction: column;
}

.chat-detail-header {
    display: flex;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 0.5px solid #f0f0f0;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(10px);
    position: sticky;
    top: 0;
    z-index: 10;
}
/* å³ä¸Šè§’"æ›´å¤š"æŒ‰é’®æ ·å¼ï¼ˆåªé’ˆå¯¹æœ€å³è¾¹çš„æŒ‰é’®ï¼‰ */
.chat-detail-header button:last-child,
.chat-detail-header .action-icon-btn:last-child {
    width: auto !important;
    height: 32px !important;
    padding: 6px 14px !important;
    background: transparent !important;
    border: 1px solid #e0e0e0 !important;
    border-radius: 16px !important;
    font-size: 13px !important;
    font-weight: 500 !important;
    color: #333 !important;
    margin-left: auto !important;
}

.chat-detail-header button:last-child:hover,
.chat-detail-header .action-icon-btn:last-child:hover {
    background: #f8f8f8 !important;
}

/* éšè—å³è¾¹æŒ‰é’®å†…çš„æ‰€æœ‰å†…å®¹ï¼ˆå›¾æ ‡ã€å›¾ç‰‡ç­‰ï¼‰ */
.chat-detail-header button:last-child > *,
.chat-detail-header .action-icon-btn:last-child > * {
    display: none !important;
}

/* æ˜¾ç¤º"æ›´å¤š"æ–‡å­— */
.chat-detail-header button:last-child::before,
.chat-detail-header .action-icon-btn:last-child::before {
    content: "æ›´å¤š" !important;
    display: block !important;
}



/* èŠå¤©é¡µé¢çš„è¿”å›æŒ‰é’®ç‰¹æ®Šå¤„ç†ï¼šé€æ˜èƒŒæ™¯ï¼ŒSVGé€‚é… */
.chat-detail-header .back-btn {
    margin-right: 5px;
}

.header-avatar {
    width: 38px;
    height: 38px;
    border-radius: 50%;
    margin-right: 10px;
    background: #f0f0f0;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    border: 1px solid rgba(0,0,0,0.05);
    flex-shrink: 0;
}

.header-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.chat-detail-title {
    font-size: 15px;
    font-weight: 600;
    color: #333;
    line-height: 1.2;
    text-align: left;
    margin: 0;
}

.character-status {
    font-size: 13px;
    color: #999;
    text-align: left;
    margin-top: 2px;
    line-height: 1.2;
    display: flex;
    align-items: center;
    gap: 2px;
    
    /* â–¼â–¼â–¼ ä¿®æ”¹è¿™é‡Œï¼šåŠ ä¸Š !important å¼ºåˆ¶åº”ç”¨å­—ä½“ â–¼â–¼â–¼ */
   font-family: 'Zhi Mang Xing', cursive !important;
    font-weight: normal;
}
/* çŠ¶æ€åœ†ç‚¹ */
.character-status::before {
    content: '';
    display: inline-block;
    width: 8px !important;
    height: 8px !important;
    background: #10ac84;
    border-radius: 50%;
}


.chat-name .status-tag {
    font-size: 11px;
    color: #667eea;
    font-weight: normal;
    margin-left: 6px;
}

.messages-container {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    background: #fafafa; /* æ›´æ·¡çš„ç°ï¼Œæ¥è¿‘ç™½è‰² */
}


.load-more-btn {
    width: 100%;
    padding: 10px;
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 20px;
    color: #666;
    font-size: 13px;
    cursor: pointer;
    margin-bottom: 15px;
    transition: all 0.3s;
}

.load-more-btn:hover {
    background: #f8f8f8;
}

/* æ¶ˆæ¯æ°”æ³¡ */
.message-item {
    display: flex;
    margin-bottom: 15px;
    align-items: flex-end;
}

.message-item.me {
    flex-direction: row-reverse;
}

.message-bubble {
    max-width: 70%;
    padding: 4px 8px; /* ç¨å¾®å¤§ä¸€ç‚¹ */
    border-radius: 18px; /* æ›´åœ†æ¶¦ */
    background: #ffffff; /* AIæ¶ˆæ¯ç”¨çº¯ç™½ */
    color: #1a1a1a;
    word-wrap: break-word;
    line-height: 1.5;
    box-shadow: 0 1px 2px rgba(0,0,0,0.04); /* ææ·¡é˜´å½± */
    border: 0.5px solid #f5f5f5; /* æç»†è¾¹æ¡† */
}
/* ç”¨æˆ·æ¶ˆæ¯æ°”æ³¡ */
.message-item.me .message-bubble {
    background: #1a1a1a; /* æ·±é»‘è‰² */
    color: #fff;
    border: none;
    box-shadow: 0 2px 4px rgba(0,0,0,0.08);
}


.message-time {
    font-size: 11px;
    color: #999;
    margin: 0 8px;
    white-space: nowrap;
}

/* è¾“å…¥æ  */
.chat-input-bar {
    display: flex;
    align-items: flex-end;
    padding: 15px 20px;
    border-top: 0.5px solid #f0f0f0; /* æç»†çº¿ */
    background: #fafafa; /* æ·¡ç°èƒŒæ™¯ */
    gap: 12px;
}

.chat-input {
    flex: 1;
    padding: 12px 16px;
    border: 0.5px solid #e5e5e5; /* æç»†è¾¹æ¡† */
    border-radius: 24px; /* æ›´åœ† */
    font-size: 16px;
    resize: none;
    max-height: 72px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    outline: none;
    transition: all 0.3s;
    overflow: hidden;
    overflow-wrap: break-word;
    background: #fff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.02); /* å¾®é˜´å½± */
}

.chat-input:focus {
    border-color: #1a1a1a; /* èšç„¦æ—¶å˜æ·±é»‘ */
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

/* éšè—textareaçš„æ‰€æœ‰ç®­å¤´å’Œæ»šåŠ¨æ¡æŒ‰é’® */
.chat-input::-webkit-scrollbar {
    width: 0px;
    height: 0px;
}

.chat-input::-webkit-scrollbar-button {
    display: none !important;
    height: 0;
    width: 0;
}

.chat-input::-webkit-scrollbar-thumb {
    background: transparent;
}

.chat-input::-webkit-scrollbar-track {
    background: transparent;
}

.chat-input::-webkit-inner-spin-button,
.chat-input::-webkit-outer-spin-button {
    -webkit-appearance: none !important;
    display: none !important;
    margin: 0;
}


.chat-input:focus {
    border-color: #667eea;
}
.chat-input:disabled {
    background: #f5f5f5;
    color: #999;
    cursor: not-allowed;
}

.receive-btn {
    padding: 10px 20px;
    background: #667eea;
    color: white;
    border: none;
    border-radius: 20px;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s;
    white-space: nowrap;
}

.receive-btn:hover {
    background: #5a6fd8;
}

.receive-btn:disabled {
    background: #ccc;
    cursor: not-allowed;
}
/* æ–°çš„å›¾æ ‡æŒ‰é’®æ ·å¼ */
.action-icon-btn {
    background: transparent;
    border: none;
    width: 40px; /* ç¨å°ä¸€ç‚¹ */
    height: 40px;
    padding: 8px;
    cursor: pointer;
    transition: all 0.2s;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 6px;
}

.action-icon-btn:hover {
    background: #f8f8f8; /* æ›´æ·¡çš„æ‚¬åœè‰² */
    transform: scale(1.05); /* å¾®å¾®æ”¾å¤§ */
}

.action-icon-btn:active {
    transform: scale(0.95);
}

        /* é¼ æ ‡æ‚¬åœå˜è‰² */
        .action-icon-btn:hover {
            background: #f5f5f5;
        }

        /* ç‚¹å‡»æ—¶çš„ç¼©å°æ•ˆæœ */
        .action-icon-btn:active {
            transform: scale(0.9);
        }

        /* å›¾ç‰‡æ ·å¼ */
        .action-icon-btn img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            opacity: 0.7; /* é»˜è®¤ç¨å¾®æ·¡ä¸€ç‚¹ï¼Œæ˜¾é«˜çº§ */
            transition: opacity 0.3s;
        }

        .action-icon-btn:hover img {
            opacity: 1;   /* æ‚¬åœæ—¶å®Œå…¨ä¸é€æ˜ */
        }
/* ç³»ç»Ÿæ¶ˆæ¯ */
.system-message {
    text-align: center;
    color: #999;
    font-size: 12px;
    margin: 10px 0;
}
/* ç¦ç”¨æ¶ˆæ¯æ–‡æœ¬é€‰æ‹© */
.message-bubble {
    user-select: none;
    -webkit-user-select: none;
    -webkit-touch-callout: none;
}

/* æ¶ˆæ¯æ“ä½œèœå•æŒ‰é’® */
.message-menu-btn {
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 8px;
    font-size: 15px;
    cursor: pointer;
    margin-bottom: 10px;
    transition: all 0.3s;
    background: white;
    border: 1px solid #e0e0e0;
}

.message-menu-btn:hover {
    background: #f8f8f8;
}

.message-menu-btn:last-child {
    margin-bottom: 0;
}

/* æ’¤å›æ¶ˆæ¯æ ·å¼ */
.revoked-message {
    color: #999;
    font-style: italic;
    cursor: pointer;
    user-select: none;
}

.revoked-message:hover {
    text-decoration: underline;
}

.revoked-content {
    display: none;
    margin-top: 8px;
    padding: 8px;
    background: #f5f5f5;
    border-radius: 6px;
    font-size: 13px;
    color: #666;
}

.revoked-content.show {
    display: block;
}
/* å¤šé€‰æ¨¡å¼ç›¸å…³æ ·å¼ */
.message-item.multi-select-mode {
    padding-left: 50px;
    position: relative;
}

.message-checkbox {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.multi-select-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: white;
    border-top: 1px solid #eee;
}

.selected-count {
    font-size: 14px;
    color: #333;
}

.multi-select-actions {
    display: flex;
    gap: 10px;
}

.btn-multi-cancel {
    padding: 8px 20px;
    background: #f0f0f0;
    color: #666;
    border: none;
    border-radius: 16px;
    font-size: 14px;
    cursor: pointer;
}

.btn-multi-delete {
    padding: 8px 20px;
    background: #ff4757;
    color: white;
    border: none;
    border-radius: 16px;
    font-size: 14px;
    cursor: pointer;
}




/* è§’è‰²ä¿¡æ¯é¡µé¢ */
.character-info-screen {
    height: 100vh;
    background: white;
    display: none;
    flex-direction: column;
}

.character-info-content {
    flex: 1;
    overflow-y: auto;
    padding-bottom: 30px;
}

.character-profile-section {
    text-align: center;
    padding: 30px 20px;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
}

.character-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: #e0e0e0;
    margin: 0 auto 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 40px;
    cursor: pointer; /* æ–°å¢ */
    transition: transform 0.3s; /* æ–°å¢ */
    overflow: hidden; /* æ–°å¢ */
}
.character-avatar:hover {
    transform: scale(1.05);
}
.character-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.character-name {
    font-size: 20px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
   cursor: pointer; /* æ–°å¢ */
}

.character-location {
    font-size: 14px;
    color: #666;
    margin-bottom: 25px;
    cursor: pointer; /* æ–°å¢ */
}
.character-location:hover {
    color: #667eea;
}
.character-stats {
    display: flex;
    justify-content: space-around;
    max-width: 300px;
    margin: 0 auto;
}

.stat-item {
    text-align: center;
}

.stat-number {
    font-size: 20px;
    font-weight: 600;
    color: #667eea;
    margin-bottom: 5px;
}

.stat-label {
    font-size: 13px;
    color: #999;
}

.character-edit-form {
    padding: 20px;
}

/* é˜²æ­¢æ—¥æœŸé€‰æ‹©å™¨è¶…å‡ºå®¹å™¨ */
.character-edit-form input[type="date"] {
    max-width: 100%;
    box-sizing: border-box;
    -webkit-appearance: none;
    appearance: none;
}


.gender-options {
    display: flex;
    gap: 15px;
}

.gender-option {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
    color: #666;
    cursor: pointer;
}

.gender-option input {
    cursor: pointer;
}

.save-character-btn {
    width: 100%;
    padding: 14px;
    background: #667eea;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 15px;
    cursor: pointer;
    margin-top: 20px;
    transition: background 0.3s;
}

.save-character-btn:hover {
    background: #5a6fd8;
}

.app-icon-editor {
    text-align: center;
    cursor: pointer;
    transition: transform 0.3s;
}

.app-icon-editor:hover {
    transform: scale(1.05);
}

.app-icon-preview {
    width: 60px;
    height: 60px;
    border-radius: 12px;
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255,255,255,0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    margin: 0 auto;
    overflow: hidden;
}

.app-icon-preview img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

/* æ—¥è®°é¡µé¢æ ·å¼ */
.diary-screen {
    height: 100vh;
    background: #f5f5f5;
    display: none;
    flex-direction: column;
}

/* å¬å”¤å¡ç‰‡ */

.summon-card {
    margin: 20px;
    padding: 35px 25px;
    background: 
        linear-gradient(135deg, 
            #fff5f7 0%, 
            #ffe4ec 50%, 
            #ffd6e3 100%);
    border-radius: 25px;
    text-align: center;
    cursor: pointer;
    position: relative;
    overflow: visible;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow: 
        0 5px 20px rgba(255, 182, 193, 0.3),
        inset 0 -2px 10px rgba(255, 255, 255, 0.5);
    border: 3px dashed #ffb3d1;
}

/* å·¦ä¸Šè§’å°å…”å­ */
.summon-card::before {
    content: 'ğŸ°';
    position: absolute;
    top: -18px;
    left: 15px;
    font-size: 40px;
    animation: rabbitJump 2s ease-in-out infinite;
    filter: drop-shadow(0 3px 6px rgba(0,0,0,0.1));
    z-index: 2;
}

/* é¡¶éƒ¨ä¸­å¤®ä¿¡å° */
.summon-card::after {
    content: 'ğŸ’Œ';
    position: absolute;
    top: -15px;
    right: 15px;
    font-size: 38px;
    animation: envelopeSway 2.5s ease-in-out infinite;
    filter: drop-shadow(0 3px 6px rgba(0,0,0,0.1));
}

@keyframes rabbitJump {
    0%, 100% { 
        transform: translateY(0) rotate(-8deg); 
    }
    50% { 
        transform: translateY(-12px) rotate(8deg); 
    }
}

@keyframes envelopeSway {
    0%, 100% { 
        transform: translateY(0) rotate(3deg); 
    }
    50% { 
        transform: translateY(-8px) rotate(-3deg); 
    }
}

.summon-card:hover {
    transform: scale(1.08) translateY(-5px);
    box-shadow: 
        0 10px 35px rgba(255, 105, 180, 0.4),
        inset 0 -3px 15px rgba(255, 255, 255, 0.6);
    border-color: #ff69b4;
}

.summon-card:active {
    animation: cardBounce 0.5s ease;
}

@keyframes cardBounce {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(0.95) rotate(-3deg); }
    50% { transform: scale(1.05); }
    75% { transform: scale(0.98) rotate(3deg); }
}

.summon-text {
    font-size: 17px;
    font-weight: 600;
    color: #ff1493;
    text-shadow: 
        0 2px 4px rgba(255,255,255,0.8),
        0 0 15px rgba(255, 105, 180, 0.3);
    letter-spacing: 1px;
    position: relative;
    z-index: 1;
}

/* åº•éƒ¨å°çˆªå° */
.stars-container {
    pointer-events: none;
}

.stars-container::before {
    content: 'ğŸ¾';
    position: absolute;
    bottom: 5px;
    left: 20px;
    font-size: 22px;
    opacity: 0.5;
    animation: pawFade 2s ease-in-out infinite;
}

.stars-container::after {
    content: 'ğŸ¾';
    position: absolute;
    bottom: 5px;
    right: 20px;
    font-size: 22px;
    opacity: 0.5;
    animation: pawFade 2s ease-in-out infinite 1s;
}

@keyframes pawFade {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.7; }
}

/* æ˜Ÿæ˜Ÿç‰¹æ•ˆå®¹å™¨ */
.stars-container {
    position: absolute;
    top: 0;
    right: 0;
    width: 100px;
    height: 100px;
    pointer-events: none;
}

.star {
    position: absolute;
    font-size: 20px;
    animation: starTwinkle 0.6s ease-out forwards;
    opacity: 0;
}

@keyframes starTwinkle {
    0% {
        opacity: 0;
        transform: translate(0, 0) scale(0) rotate(0deg);
    }
    50% {
        opacity: 1;
    }
    100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(1.5) rotate(180deg);
    }
}

/* å†™æ—¥è®°çŠ¶æ€å¡ç‰‡ */
.writing-diary-card {
    margin: 20px;
    padding: 30px 20px;
    background: white;
    border-radius: 16px;
    text-align: center;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
}

.writing-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    margin: 0 auto 15px;
    background: #f0f0f0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 30px;
}

.writing-text {
    font-size: 15px;
    color: #666;
    margin-bottom: 15px;
}

.pen-animation {
    font-size: 24px;
    animation: penWrite 1.5s ease-in-out infinite;
}

@keyframes penWrite {
    0%, 100% { transform: translateY(0) rotate(-10deg); }
    50% { transform: translateY(-5px) rotate(10deg); }
}

/* æ—¥è®°åˆ—è¡¨å®¹å™¨ */
.diary-list-container {
    flex: 1;
    overflow-y: auto;
    padding: 0 0 20px;
}

/* æ—¥è®°å¡ç‰‡ */
.diary-card {
    background: white;
    border-radius: 16px;
    padding: 20px;
    margin: 15px 20px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    cursor: pointer;
    transition: all 0.3s;
}

.diary-card:active {
    transform: scale(0.98);
}

.diary-title {
    font-size: 17px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}

.diary-time {
    font-size: 12px;
    color: #999;
    margin-bottom: 10px;
}

.diary-preview {
    font-size: 14px;
    color: #666;
    line-height: 1.6;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.diary-tags {
    margin-top: 12px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.diary-tag {
    background: #f0f0ff;
    color: #667eea;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 12px;
}
/* ========== æ—¥è®°è¯¦æƒ…é¡µç¾åŒ– ========== */

/* â–¼â–¼â–¼ ä¿®å¤ä¸ç¾åŒ–ï¼šæ—¥è®°é¡µå³ä¸Šè§’åˆ é™¤æŒ‰é’® (Insç²¾è‡´çº¿æ¡é£) â–¼â–¼â–¼ */

.diary-detail-screen .chat-detail-header button:last-child,
.diary-detail-screen .chat-detail-header .action-icon-btn:last-child {
    /* 1. ä½ç½®å¸ƒå±€ï¼šå¼ºåˆ¶é å³ */
    margin-left: auto !important; 
    
    /* 2. å°ºå¯¸ä¸å½¢æ€ï¼šç²¾è‡´åœ†å½¢ */
    width: 36px !important;       /* æ¯”èŠå¤©é¡µçš„æŒ‰é’®ç¨å°ï¼Œæ›´æ˜¾ç²¾è‡´ */
    height: 36px !important;
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important; /* æ­£åœ† */

    /* 3. Insé£æ ¸å¿ƒï¼šæç»†çº¿æ¡ + é€æ˜æ„Ÿ */
    background: transparent !important;
    border: 1px solid rgba(0, 0, 0, 0.15) !important; /* 0.15é€æ˜åº¦çš„é»‘çº¿ï¼Œéå¸¸é«˜å†· */
    box-shadow: none !important;
    
    /* åŠ¨ç”» */
    transition: all 0.2s ease !important;
}

/* 4. éšè—â€œæ›´å¤šâ€æ–‡å­— (è¿™æ˜¯å¤ç”¨èŠå¤©é¡µå¸¦æ¥çš„å‰¯ä½œç”¨ï¼Œå¿…é¡»éšè—) */
.diary-detail-screen .chat-detail-header button:last-child::before,
.diary-detail-screen .chat-detail-header .action-icon-btn:last-child::before {
    display: none !important;
}

/* 5. å¼ºåˆ¶æ˜¾ç¤ºå†…éƒ¨çš„åˆ é™¤å›¾æ ‡ï¼Œå¹¶è°ƒæ•´è´¨æ„Ÿ */
.diary-detail-screen .chat-detail-header button:last-child > *,
.diary-detail-screen .chat-detail-header .action-icon-btn:last-child > * {
    display: block !important;
    width: 18px !important;      /* å›¾æ ‡å°ºå¯¸ */
    height: 18px !important;
    opacity: 0.6 !important;     /* é»˜è®¤å¾®é€ï¼Œæ˜¾é«˜çº§ */
    filter: none !important;     /* æ¸…é™¤æ‚è´¨ */
    object-fit: contain !important;
}

/* 6. äº¤äº’ä½“éªŒï¼šæ‚¬åœæ—¶å¾®å¾®å˜çº¢ */
.diary-detail-screen .chat-detail-header button:last-child:hover,
.diary-detail-screen .chat-detail-header .action-icon-btn:last-child:hover {
    background: rgba(255, 71, 87, 0.05) !important; /* ææ·¡çš„çº¢åº• */
    border-color: #ff4757 !important;               /* è¾¹æ¡†å˜çº¢ */
    transform: scale(1.05);
}

.diary-detail-screen .chat-detail-header button:last-child:hover > *,
.diary-detail-screen .chat-detail-header .action-icon-btn:last-child:hover > * {
    opacity: 1 !important;       /* å›¾æ ‡å˜å® */
}

/* â–²â–²â–² ä¿®å¤ç»“æŸï¼Œä»¥ä¸‹æ˜¯æ—¥è®°è¯¦æƒ…é¡µçš„åŸºç¡€æ ·å¼ â–²â–²â–² */

.diary-detail-screen {
    height: 100vh;
    background: #f0f2f5; /* èƒŒæ™¯ç¨å¾®æ·±ä¸€ç‚¹ï¼Œçªå‡ºçº¸å¼  */
    display: none;
    flex-direction: column;
}

.diary-detail-content {
    flex: 1;
    overflow-y: auto;
    padding: 20px; /* ç»™çº¸å¼ ç•™å‡ºè¾¹è· */
}

/* çº¸å¼ å®¹å™¨ */
.diary-paper {
    background: #fff;
    padding: 30px 25px;
    border-radius: 16px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    min-height: 80vh; /* ä¿è¯çº¸å¼ è¶³å¤Ÿé•¿ */
    position: relative;
    color: #4a4a4a;
}

/* é¡¶éƒ¨è£…é¥°æ¡ï¼ˆå¯é€‰ï¼Œå¢åŠ è®¾è®¡æ„Ÿï¼‰ */
.diary-paper::before {
    content: '';
    position: absolute;
    top: 0;
    left: 20px;
    right: 20px;
    height: 6px;
    background: rgba(102, 126, 234, 0.2);
    border-radius: 0 0 6px 6px;
}

/* æ—¥è®°æ ‡é¢˜ */
.diary-detail-title {
    font-size: 22px;
    font-weight: 700;
    color: #333;
    text-align: center;
    margin-top: 10px;
    margin-bottom: 10px;
    line-height: 1.4;
}

/* å…ƒä¿¡æ¯ï¼ˆæ—¥æœŸã€å¤©æ°”ã€å¿ƒæƒ…ï¼‰ */
.diary-meta {
    text-align: center;
    font-size: 13px;
    color: #999;
    margin-bottom: 30px;
    padding-bottom: 15px;
    border-bottom: 1px dashed #eee; /* è™šçº¿åˆ†å‰² */
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.diary-meta-row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
}

/* æ¿å—æ ·å¼ */
.diary-section {
    margin-bottom: 30px;
}

/* æ¿å—æ ‡é¢˜ */
.diary-section-title {
    font-size: 16px;
    font-weight: 600;
    color: #667eea; /* ä¸»é¢˜è‰² */
    margin-bottom: 15px;
    padding-left: 10px;
    border-left: 4px solid #667eea; /* å·¦ä¾§ç«–çº¿è£…é¥° */
    display: flex;
    align-items: center;
}

/* æ¿å—å†…å®¹åˆ—è¡¨ */
.diary-section-content {
    font-size: 15px;
    line-height: 1.8;
    color: #555;
    padding-left: 5px;
}

.diary-section-content ul {
    padding-left: 0; /* å»æ‰é»˜è®¤ç¼©è¿› */
    list-style: none;
}

.diary-section-content li {
    margin-bottom: 10px;
    position: relative;
    padding-left: 20px; /* ç»™è‡ªå®šä¹‰åœ†ç‚¹ç•™ä½ç½® */
}

/* è‡ªå®šä¹‰åœ†ç‚¹ */
.diary-section-content li::before {
    content: 'â€¢';
    color: #ddd;
    position: absolute;
    left: 0;
    font-weight: bold;
}

/* å¦‚æœæ˜¯å¾…åŠäº‹é¡¹ï¼Œå»æ‰å‰é¢çš„åœ†ç‚¹ï¼Œå¹¶å‡å°‘å·¦è¾¹è· */
.diary-section-content li.is-todo::before {
    display: none;
}

.diary-section-content li.is-todo {
    padding-left: 0; /* ä¸éœ€è¦ç»™åœ†ç‚¹ç•™ä½ç½®äº† */
    list-style: none;
}

/* é’ˆå¯¹ OOTD ç­‰ä¸éœ€è¦åœ†ç‚¹çš„åˆ—è¡¨é¡¹ */
.diary-section-content li.no-dot::before {
    display: none;
}

.diary-section-content li.no-dot {
    padding-left: 0;
    list-style: none;
}

/* ç‰¹æ®Šæ ·å¼çš„åˆ—è¡¨é¡¹ */
.checkbox-done {
    color: #667eea;
    font-weight: bold;
    margin-right: 5px;
}

.checkbox-undone {
    color: #ccc;
    margin-right: 5px;
}

.strikethrough {
    text-decoration: line-through;
    color: #aaa;
}

/* æ„Ÿæ‚Ÿæ®µè½ */
.diary-reflection p {
    text-indent: 2em;
    margin-bottom: 15px;
    text-align: justify; /* ä¸¤ç«¯å¯¹é½ */
}

/* æ ‡ç­¾åŒºåŸŸ */
.diary-tags {
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid #f5f5f5;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.diary-tag {
    background: #f0f0ff;
    color: #667eea;
    padding: 5px 12px;
    border-radius: 15px;
    font-size: 12px;
    font-weight: 500;
}


/* åˆ é™¤çº¿æ•ˆæœ */
.strikethrough {
    text-decoration: line-through;
    text-decoration-color: #8d6e63;
    opacity: 0.6;
}
/* å¤é€‰æ¡†æ ·å¼ */
.checkbox-done {
    color: #81c784;
}
.checkbox-undone {
    color: #ccc;
}




/* è¡¨æƒ…åŒ…æŒ‰é’® */
.emoji-btn-wrapper {
    padding: 3px 15px 2px;
    background: white;
    display: flex;  /* â† æ·»åŠ è¿™è¡Œ */
    align-items: center;  /* â† æ·»åŠ è¿™è¡Œ */
}
.emoji-btn-wrapper {
    padding: 3px 15px 2px;
    background: white;
    display: flex;
    align-items: center;
    gap: 10px;  /* â† å›¾æ ‡é—´éš”è·ç¦» */
}

.emoji-btn {
    width: 25px;
    height: 25px;
    background: transparent;
    border: none;
    font-size: 18px;
    cursor: pointer;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.emoji-btn:active {
    transform: scale(0.9);
}

.emoji-btn:hover {
    background: #ebebeb;
}

/* è¡¨æƒ…åŒ…é¢æ¿ */
.emoji-panel {
    position: absolute; 
    bottom: 60px;
    left: 0;
    right: 0;
    max-width: 375px;
    margin: 0 auto;
    height: 60vh;
    background: white;
    border-top: 1px solid #eee;
    border-radius: 16px 16px 0 0;
    box-shadow: 0 -2px 12px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    z-index: 100;
}

/* é¡¶éƒ¨æ“ä½œæ  */
.emoji-panel-header {
    display: flex;
    justify-content: space-around;
    padding: 12px 15px;
    border-bottom: 1px solid #eee;
    flex-shrink: 0;
}

.emoji-header-btn {
    padding: 8px 16px;
    background: #f0f0f0;
    border: none;
    border-radius: 16px;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.3s;
}

.emoji-header-btn:hover {
    background: #667eea;
    color: white;
}

/* æœç´¢æ¡† */
.emoji-search-box {
    padding: 10px 15px;
    border-bottom: 1px solid #eee;
    flex-shrink: 0;
}

.emoji-search-input {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #e0e0e0;
    border-radius: 20px;
    font-size: 14px;
    outline: none;
}

/* åˆ†ç±»æ ‡ç­¾æ  */
.emoji-category-bar {
    padding: 10px 15px;
    border-bottom: 1px solid #eee;
    overflow-x: auto;
    white-space: nowrap;
    flex-shrink: 0;
}

.emoji-category-tag {
    display: inline-block;
    padding: 6px 14px;
    margin-right: 8px;
    background: #f0f0f0;
    border-radius: 16px;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.3s;
color: #333;
}

.emoji-category-tag.active {
    background: #667eea;
    color: white;
}

/* è¡¨æƒ…åŒ…ç½‘æ ¼ */
.emoji-grid-container {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
}

.emoji-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
}

.emoji-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    cursor: pointer;
    transition: transform 0.2s;
}

.emoji-item:hover {
    transform: scale(1.1);
}

.emoji-item-img {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 8px;
}

.emoji-item-text {
    font-size: 11px;
    color: #666;
    text-align: center;
    max-width: 70px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* åˆ é™¤æ¨¡å¼ */
.emoji-item.delete-mode {
    position: relative;
}

.emoji-item.delete-mode .emoji-delete-icon {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 20px;
    height: 20px;
    background: #ff4757;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    cursor: pointer;
}

/* å›¾ç‰‡æ¶ˆæ¯æ ·å¼ */
.message-image {
    width: 95px;  /* å›ºå®šå®½åº¦ */
    height: 95px;  /* å›ºå®šé«˜åº¦ */
    object-fit: cover;  /* è£å‰ªå¡«å……ï¼Œä¿æŒæ¯”ä¾‹ */
    border-radius: 8px;
    cursor: pointer;
    display: block;
}

/* å¿«æ·é‡‘é¢æŒ‰é’® */
.quick-amount-btn {
    flex: 1;
    padding: 8px 10px;
    background: #fff0f6;
    border: 1px solid #ffb3d9;
    border-radius: 8px;
    color: #ff69b4;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.quick-amount-btn:active {
    background: #ff69b4;
    color: white;
    transform: scale(0.95);
}


/* ============ è½¬è´¦æ¶ˆæ¯å¡ç‰‡ (ç¾åŒ–çº¢åŒ…ç‰ˆ) ============ */
.transfer-card {
    /* 1. å¸ƒå±€ï¼šæ”¹å› Flexï¼Œæ¨¡ä»¿çº¢åŒ…æ¡ç›® */
    display: flex !important;
    align-items: center !important;
    /* å®½åº¦ç¨å¾®å®½ä¸€ç‚¹ */
    width: 250px !important;
    max-width: 100% !important;
    
    /* 2. èƒŒæ™¯ï¼šçº¯ç™½å¡ç‰‡ */
    background: white !important;
    
    /* 3. è¾¹æ¡†ä¸åœ†è§’ */
    border: none !important;
    border-radius: 20px !important; /* æ›´å¤§çš„åœ†è§’ */
    
    /* 4. é—´è· */
    padding: 18px !important;
    margin: 8px 0 !important;
    
    /* 5. é˜´å½±ï¼šçº¢è‰²ç³»çš„æ·¡é˜´å½± */
    box-shadow: 0 5px 15px rgba(233, 61, 61, 0.08) !important;
    
    cursor: pointer !important;
    position: relative !important;
    overflow: hidden !important; /* ç”¨äºè£å‰ªè£…é¥°åœ†åœˆ */
    transition: transform 0.3s ease !important;
    
    /* é‡ç½®ä¹‹å‰çš„ Grid å¸ƒå±€ */
    grid-template-columns: none !important;
    grid-template-rows: none !important;
}

/* è£…é¥°å…ƒç´ ï¼šå³ä¸Šè§’çš„åœ†åœˆ */
.transfer-card::before {
    content: '';
    position: absolute;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: rgba(255, 235, 235, 0.5);
    top: -30px;
    right: -30px;
    z-index: 0;
    pointer-events: none;
}

/* æ‚¬åœæ•ˆæœ */
.transfer-card:hover {
    transform: translateY(-3px) !important;
}

/* å·¦ä¾§å›¾æ ‡ */
.transfer-icon {
    display: flex !important;
    width: 50px !important;
    height: 50px !important;
    border-radius: 16px !important;
    
    /* æ¸å˜èƒŒæ™¯ï¼šå¤åˆ» .redpacket-icon */
    background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%) !important;
    box-shadow: 0 5px 10px rgba(255, 154, 158, 0.3) !important;
    
    border: none !important; /* å»æ‰ä¹‹å‰çš„è¾¹æ¡† */
    color: white !important;
    font-size: 24px !important;
    justify-content: center !important;
    align-items: center !important;
    margin-right: 15px !important;
    z-index: 1; /* ç¡®ä¿åœ¨è£…é¥°åœ†åœˆä¸Šé¢ */
    flex-shrink: 0;
    
    /* é‡ç½® Grid ä½ç½® */
    grid-row: auto !important; 
    grid-column: auto !important;
    margin: 0 15px 0 0 !important;
}

/* é‡‘é¢/æ ‡é¢˜æ–‡å­— */
.transfer-amount {
    flex: 1 !important;
    font-size: 16px !important;
    font-weight: 600 !important;
    color: #333 !important;
    margin: 0 !important;
    padding: 0 !important;
    text-align: left !important;
    z-index: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    line-height: 1.4;
    
    /* é‡ç½® Grid ä½ç½® */
    grid-column: auto !important;
    grid-row: auto !important;
    align-self: center !important;
}

/* çŠ¶æ€æ–‡å­— (ä¼ªå…ƒç´ ç”Ÿæˆï¼Œæ¨¡ä»¿å³ä¾§çš„ Action æŒ‰é’®) */
.transfer-card::after {
    content: "é¢†å–çº¢åŒ…"; /* é»˜è®¤çŠ¶æ€ */
    font-size: 12px !important;
    color: #ff6b6b !important;
    background: rgba(255, 107, 107, 0.1);
    padding: 4px 12px;
    border-radius: 12px;
    font-weight: 500 !important;
    margin-left: auto; /* æŒ¤åˆ°å³è¾¹ */
    z-index: 1;
    white-space: nowrap;
    margin-top: 0 !important;
}

/* === å·²é¢†å–çŠ¶æ€ (Received) === */
.transfer-card.received {
    box-shadow: 0 5px 15px rgba(161, 196, 253, 0.1) !important;
    background: white !important;
}

/* å·²é¢†å– - è£…é¥°åœˆå˜è“ */
.transfer-card.received::before {
    background: rgba(235, 245, 255, 0.5) !important;
}

/* å·²é¢†å– - å›¾æ ‡å˜è“æ¸å˜ */
.transfer-card.received .transfer-icon {
    background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%) !important;
    box-shadow: 0 5px 10px rgba(161, 196, 253, 0.3) !important;
    color: white !important;
    border: none !important;
}

/* å·²é¢†å– - æ–‡å­—é¢œè‰² */
.transfer-card.received .transfer-amount {
    color: #4dabf7 !important;
}

/* å·²é¢†å– - çŠ¶æ€æ ‡ç­¾ */
.transfer-card.received::after {
    content: "å·²é¢†å–" !important;
    color: #4dabf7 !important;
    background: rgba(77, 171, 247, 0.1) !important;
}

/* éšè—ä¸éœ€è¦çš„å…ƒç´  */
.transfer-status, .transfer-note {
    display: none !important;
}

/* å¼ºåˆ¶è¦†ç›–ä¹‹å‰å¯èƒ½å­˜åœ¨çš„èƒŒæ™¯ */
.transfer-card.sent, 
.transfer-card.pending {
    background: white !important;
}
/* ============ è¯­éŸ³æ¶ˆæ¯æ°”æ³¡æ ·å¼ (QQé£æ ¼ç¾åŒ–ç‰ˆ) ============ */
.voice-bubble {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    border-radius: 18px;
    background: white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 100px;
    max-width: 240px;
    position: relative;
    border: none; /* ç§»é™¤æ—§è¾¹æ¡† */
}

.voice-bubble:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.voice-bubble:active {
    transform: scale(0.98);
}

/* æ’­æ”¾æŒ‰é’®åœ†åœˆ */
.voice-play-btn {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    flex-shrink: 0;
    background-color: #f0f0f0;
    color: #555;
    transition: all 0.3s;
}

/* è¯­éŸ³æ³¢å½¢å®¹å™¨ */
.voice-wave {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 3px;
    height: 20px;
    margin: 0 10px; /* å·¦å³ç•™é—´è· */
}

/* æ³¢å½¢ç«–æ¡ */
.wave-bar {
    width: 3px;
    border-radius: 2px;
    background-color: #ccc;
    transition: all 0.3s ease;
    height: 6px; /* é»˜è®¤é«˜åº¦ */
}

/* è¯­éŸ³æ—¶é•¿ */
.voice-duration {
    font-size: 12px;
    color: #888;
    font-weight: 500;
    flex-shrink: 0;
}

/* === æ’­æ”¾ä¸­çŠ¶æ€ (éœ€è¦JSé…åˆæ·»åŠ  .playing ç±») === */
.voice-bubble.playing .voice-play-btn {
    background-color: #667eea; /* ä½¿ç”¨ä½ çš„ä¸»é¢˜è‰² */
    color: white;
}

.voice-bubble.playing .wave-bar {
    background-color: #667eea;
    animation: qqWave 1.2s ease-in-out infinite;
}

/* æ³¢çº¹åŠ¨ç”» */
@keyframes qqWave {
    0%, 100% { height: 6px; }
    50% { height: 16px; }
}/* ============ è¯­éŸ³æ¶ˆæ¯æ°”æ³¡æ ·å¼ (QQé£æ ¼ç¾åŒ–ç‰ˆ) ============ */
.voice-bubble {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    border-radius: 18px;
    background: white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 100px;
    max-width: 240px;
    position: relative;
    border: none; /* ç§»é™¤æ—§è¾¹æ¡† */
}

.voice-bubble:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.voice-bubble:active {
    transform: scale(0.98);
}

/* æ’­æ”¾æŒ‰é’®åœ†åœˆ - ä¿®æ”¹ä¸ºé€æ˜ï¼Œå»æ‰åœ†åœˆæ„Ÿ */
.voice-play-btn {
    width: 24px;              /* ç¨å¾®æ”¹å° */
    height: 24px;
    /* border-radius: 50%;    <-- ä¸éœ€è¦åœ†è§’äº† */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;          /* å›¾æ ‡å¤§å° */
    flex-shrink: 0;
    
    background-color: transparent; /* â–¼â–¼â–¼ å…³é”®ï¼šæ”¹æˆé€æ˜ï¼Œå»æ‰ç°è‰²èƒŒæ™¯ â–¼â–¼â–¼ */
    color: #333;              /* å›¾æ ‡é¢œè‰²åŠ æ·± */
    transition: all 0.3s;
}


/* è¯­éŸ³æ³¢å½¢å®¹å™¨ */
.voice-wave {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 3px;
    height: 20px;
    margin: 0 10px; /* å·¦å³ç•™é—´è· */
}

/* æ³¢å½¢ç«–æ¡ - ä¿®æ”¹é¢œè‰²å’Œé«˜åº¦ */
.wave-bar {
    width: 3px;
    border-radius: 2px;
    
    background-color: #555;   /* â–¼â–¼â–¼ å…³é”®ï¼šç”± #ccc æ”¹æ·±ç°è‰²ï¼Œå¦åˆ™çœ‹ä¸æ¸… â–¼â–¼â–¼ */
    
    transition: all 0.3s ease;
    height: 10px;             /* â–¼â–¼â–¼ å…³é”®ï¼šé»˜è®¤é«˜åº¦è°ƒé«˜ä¸€ç‚¹ï¼Œæ›´åƒå£°æ³¢ â–¼â–¼â–¼ */
}


/* è¯­éŸ³æ—¶é•¿ */
.voice-duration {
    font-size: 12px;
    color: #888;
    font-weight: 500;
    flex-shrink: 0;
}

/* === æ’­æ”¾ä¸­çŠ¶æ€ (éœ€è¦JSé…åˆæ·»åŠ  .playing ç±») === */
.voice-bubble.playing .voice-play-btn {
    background-color: #667eea; /* ä½¿ç”¨ä½ çš„ä¸»é¢˜è‰² */
    color: white;
}

.voice-bubble.playing .wave-bar {
    background-color: #667eea;
    animation: qqWave 1.2s ease-in-out infinite;
}

/* æ³¢çº¹åŠ¨ç”» */
@keyframes qqWave {
    0%, 100% { height: 6px; }
    50% { height: 16px; }
}

/* ä¸ºæ³¢çº¹æ·»åŠ äº¤é”™åŠ¨ç”»ï¼Œäº§ç”Ÿèµ·ä¼æ„Ÿ */
.voice-bubble.playing .wave-bar:nth-child(1) { animation-delay: 0s; }
.voice-bubble.playing .wave-bar:nth-child(2) { animation-delay: 0.1s; }
.voice-bubble.playing .wave-bar:nth-child(3) { animation-delay: 0.2s; }
.voice-bubble.playing .wave-bar:nth-child(4) { animation-delay: 0.3s; }
.voice-bubble.playing .wave-bar:nth-child(5) { animation-delay: 0.4s; }

/* === åŒºåˆ†â€œæˆ‘â€å‘é€çš„æ¶ˆæ¯ === */
/* æˆ‘å‘é€çš„æ¶ˆæ¯ï¼Œå¸ƒå±€åè½¬ï¼šæ—¶é•¿ -> æ³¢çº¹ -> æŒ‰é’® */
.message-item.me .voice-bubble {
    flex-direction: row-reverse; 
    background: white; /* ä¿æŒç™½è‰²å¡ç‰‡é£æ ¼ */
}

/* æˆ‘å‘é€çš„æ¶ˆæ¯ï¼Œæ³¢çº¹é å³å¯¹é½ */
.message-item.me .voice-wave {
    justify-content: flex-end;
}
/* === æ³¢å½¢æ¡åŸºç¡€æ ·å¼ === */
.voice-wave .wave-bar {
    width: 3px;
    height: 8px;
    background: #ccc;
    border-radius: 2px;
    transition: all 0.3s;
}

/* æ’­æ”¾æ—¶æ³¢å½¢åŠ¨ç”» */
.voice-bubble.playing .voice-wave .wave-bar {
    background: #667eea;
    animation: qqWave 1.2s ease-in-out infinite;
}

/* æ³¢å½¢äº¤é”™åŠ¨ç”» */
.voice-bubble.playing .voice-wave .wave-bar:nth-child(1) { animation-delay: 0s; }
.voice-bubble.playing .voice-wave .wave-bar:nth-child(2) { animation-delay: 0.15s; }
.voice-bubble.playing .voice-wave .wave-bar:nth-child(3) { animation-delay: 0.3s; }
.voice-bubble.playing .voice-wave .wave-bar:nth-child(4) { animation-delay: 0.45s; }
.voice-bubble.playing .voice-wave .wave-bar:nth-child(5) { animation-delay: 0.6s; }

/* æ’­æ”¾æŒ‰é’®å›¾æ ‡æ ·å¼ */
.voice-play-btn i {
    font-size: 10px;
}


/* ä¸ºæ³¢çº¹æ·»åŠ äº¤é”™åŠ¨ç”»ï¼Œäº§ç”Ÿèµ·ä¼æ„Ÿ */
.voice-bubble.playing .wave-bar:nth-child(1) { animation-delay: 0s; }
.voice-bubble.playing .wave-bar:nth-child(2) { animation-delay: 0.1s; }
.voice-bubble.playing .wave-bar:nth-child(3) { animation-delay: 0.2s; }
.voice-bubble.playing .wave-bar:nth-child(4) { animation-delay: 0.3s; }
.voice-bubble.playing .wave-bar:nth-child(5) { animation-delay: 0.4s; }

/* === åŒºåˆ†â€œæˆ‘â€å‘é€çš„æ¶ˆæ¯ === */
/* æˆ‘å‘é€çš„æ¶ˆæ¯ï¼Œå¸ƒå±€åè½¬ï¼šæ—¶é•¿ -> æ³¢çº¹ -> æŒ‰é’® */
.message-item.me .voice-bubble {
    flex-direction: row-reverse; 
    background: white; /* ä¿æŒç™½è‰²å¡ç‰‡é£æ ¼ */
}

/* æˆ‘å‘é€çš„æ¶ˆæ¯ï¼Œæ³¢çº¹é å³å¯¹é½ */
.message-item.me .voice-wave {
    justify-content: flex-end;
}
/* è¯­éŸ³æ–‡å­—å†…å®¹é»˜è®¤éšè— */
.voice-text-content {
    display: none; 
    animation: fadeIn 0.2s ease;
    
    /* â–¼â–¼â–¼ æ–°å¢ï¼šç™½åº•é»‘å­—å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */
    background: #ffffff;
    color: #333333;
    padding: 10px;
    border-radius: 10px;
    margin-top: 6px;
    font-size: 14px;
    line-height: 1.5;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    border: 1px solid #f0f0f0;
}


/* åªæœ‰åŠ äº† show ç±»åæ‰æ˜¾ç¤º */
.voice-text-content.show {
    display: block;
}


/* è¯­éŸ³æ¡å®¹å™¨ */
.voice-container {
    display: flex;
    flex-direction: column;
    gap: 4px;
}
   /* ============ é€šè¯é¡µé¢æ ·å¼ ============ */
.call-screen {
    height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: none;
    flex-direction: column;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 100;
}
/* é¡¶éƒ¨çŠ¶æ€åŒº */
.call-header {
    padding: 30px 20px 15px;
    text-align: center;
    flex-shrink: 0;
}

.call-name {
    font-size: 20px;
    font-weight: 600;
    color: white;
    margin-bottom: 5px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.call-status {
    font-size: 13px;
    color: rgba(255,255,255,0.85);
}


/* å¯¹è¯åŒºåŸŸå®¹å™¨ */
.call-messages-container {
    flex: 1;
    overflow-y: auto;
    padding: 0 15px 10px;
}

.call-messages {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* åŠ¨ä½œæå†™æ¡† */
.call-action-desc {
    background: rgba(0,0,0,0.4);
    padding: 12px 20px;
    border-radius: 12px;
    font-style: italic;
    color: #ddd;
    font-size: 13px;
    text-align: center;
    margin: 10px auto;
    max-width: 85%;
    line-height: 1.5;
    backdrop-filter: blur(5px);
}

/* AIæ¶ˆæ¯æ°”æ³¡ */
.call-message-ai {
    align-self: flex-start;
    background: rgba(255,255,255,0.9);
    color: #333;
    padding: 10px 14px;
    border-radius: 12px;
    max-width: 75%;
    font-size: 15px;
    line-height: 1.4;
    word-wrap: break-word;
}

/* ç”¨æˆ·æ¶ˆæ¯æ°”æ³¡ */
.call-message-user {
    align-self: flex-end;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 10px 14px;
    border-radius: 12px;
    max-width: 75%;
    font-size: 15px;
    line-height: 1.4;
    word-wrap: break-word;
}

/* æŒ‚æ–­æŒ‰é’®åŒºåŸŸ */
.call-hangup-section {
    padding: 20px;
    display: flex;
    justify-content: center;
    flex-shrink: 0;
}

.hangup-btn {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: #ff4757;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(255,71,87,0.4);
    transition: all 0.3s;
}

.hangup-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 16px rgba(255,71,87,0.6);
}

.hangup-btn:active {
    transform: scale(0.95);
}

/* è¾“å…¥æ  */
.call-input-bar {
    display: flex;
    align-items: flex-end;
    padding: 15px;
    background: rgba(0,0,0,0.3);
    backdrop-filter: blur(10px);
    gap: 10px;
    flex-shrink: 0;
}

.call-input-bar .chat-input {
    flex: 1;
    padding: 10px 12px;
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: 20px;
    font-size: 16px;
    resize: none;
    max-height: 72px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    outline: none;
    background: rgba(255,255,255,0.9);
    transition: border-color 0.3s;
}

.call-input-bar .chat-input:disabled {
    background: rgba(255,255,255,0.5);
    color: #999;
    cursor: not-allowed;
}

.call-input-bar .chat-input:focus {
    border-color: white;
}
 /* é€šè¯è®¾ç½®æŒ‰é’® */
.call-settings-btn {
    position: absolute;
    top: 30px;
    right: 20px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(255,255,255,0.2);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    backdrop-filter: blur(5px);
    transition: all 0.3s;
  font-size: 18px;
}

.call-settings-btn:hover {
    background: rgba(255,255,255,0.3);
    transform: scale(1.05);
}

.call-settings-btn:active {
    transform: scale(0.95);
}
/* é€šè¯é¡µé¢è‡ªå®šä¹‰æ ·å¼å˜é‡ */
.call-screen {
    --call-ai-bubble-color: rgba(255,255,255,0.9);
    --call-ai-text-color: #333;
    --call-user-bubble-color: linear-gradient(135deg, #667eea, #764ba2);
    --call-user-text-color: white;
    --call-name-color: white;
}

/* åº”ç”¨è§’è‰²åé¢œè‰² */
.call-name {
    color: var(--call-name-color) !important;
}

/* åº”ç”¨è‡ªå®šä¹‰é¢œè‰² */
.call-message-ai {
    background: var(--call-ai-bubble-color) !important;
    color: var(--call-ai-text-color) !important;
}

.call-message-user {
    background: var(--call-user-bubble-color) !important;
    color: var(--call-user-text-color) !important;
}
  /* é€šè¯è®¾ç½®å¼¹çª—å†…çš„è¡¨å•ä¼˜åŒ– */
#callSettingsModal .form-group {
    margin-bottom: 15px;
}

#callSettingsModal .form-label {
    font-size: 14px;
    margin-bottom: 8px;
}

#callSettingsModal .file-input-area {
    padding: 15px;
    font-size: 13px;
}

#callSettingsModal .api-btn {
    padding: 10px;
    font-size: 13px;
}

#callSettingsModal .modal-buttons {
    margin-top: 15px;
    gap: 10px;
}

#callSettingsModal .btn {
    padding: 10px;
    font-size: 14px;
}
/* ============ è´­ç‰©åŠŸèƒ½æ ·å¼ ============ */
.shopping-screen {
    height: 100vh;
    background: white;
    display: none;
    flex-direction: column;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 100; /* æé«˜å±‚çº§ */
    max-width: 375px; /* ä¿æŒæ‰‹æœºå®½åº¦ */
    margin: 0 auto;
}


.shopping-header {
    display: flex;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #eee;
}

.shopping-search-area {
    padding: 20px;
    background: #f8f8f8;
}

/* æœç´¢æ¡†å®¹å™¨ï¼šç¡®ä¿å¼¹æ€§å¸ƒå±€ */
.search-card {
    background: white;
    border-radius: 16px;
    padding: 10px 12px; /* ç¨å¾®å‡å°ä¸€ç‚¹å†…è¾¹è· */
    display: flex;
    align-items: center;
    gap: 8px; /* å‡å°é—´è·ï¼Œç»™æŒ‰é’®ç•™ç©ºé—´ */
    box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    border: 1px solid #f0f0f0;
}

/* æœç´¢æŒ‰é’®ï¼šé˜²æ­¢å˜å½¢ */
.search-btn {
    background: white;
    color: #333;
    border: 1px solid #e0e0e0;
    padding: 8px 12px; /* å·¦å³é—´è·æ”¹å°ä¸€ç‚¹ç‚¹ */
    border-radius: 12px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s;
    
    /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šé˜²æ­¢æŒ‰é’®æŠŠå¸ƒå±€æ’‘å â˜… */
    flex-shrink: 0;       /* æ— è®ºç©ºé—´å¤šæŒ¤ï¼ŒæŒ‰é’®éƒ½ä¸è®¸ç¼©å° */
    white-space: nowrap;  /* æ–‡å­—ä¸è®¸æ¢è¡Œ */
    min-width: 60px;      /* ä¿è¯æœ€å°å®½åº¦ */
    display: flex;        /* è®©å†…éƒ¨æ–‡å­—/å›¾æ ‡å±…ä¸­ */
    justify-content: center;
    align-items: center;
}
/* åŠ è½½åŠ¨ç”» */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.search-btn.loading {
    pointer-events: none; /* åŠ è½½æ—¶ç¦æ­¢ç‚¹å‡» */
}

.search-btn.loading::before {
    content: 'â³';
    display: inline-block;
    animation: spin 1s linear infinite;
    margin-right: 4px;
}

/* åŠ è½½æ—¶çš„æ—‹è½¬åŠ¨ç”» (å¯é€‰ï¼Œä¼šè®©ç­‰å¾…è¿‡ç¨‹å¾ˆå¯çˆ±) */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.search-btn.loading-mode {
    border-color: #ff9f43;
    color: #ff9f43;
    background: #fff8f0;
}

.search-icon {
    font-size: 20px;
    flex-shrink: 0;
}

.search-input {
    flex: 1;
    border: none;
    outline: none;
    font-size: 15px;
    background: transparent;
    padding: 0;
}

.search-input::placeholder {
    color: #999;
}

.search-btn {
    background: white;
    color: #333;
    border: 1px solid #e0e0e0;
    padding: 8px 20px;
    border-radius: 12px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s;
    flex-shrink: 0;
}

.search-btn:hover {
    background: #f8f8f8;
    border-color: #d0d0d0;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.search-btn:active {
    transform: translateY(0);
    background: #f0f0f0;
}



.shopping-content {
    flex: 1;
    overflow-y: auto;
    padding: 15px 20px 80px;
}

/* å•†å“å¡ç‰‡æ ·å¼ */
.product-card {
    background: white;
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 15px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    border: 1px solid #f0f0f0;
}


.product-name {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}



.product-price {
    font-size: 20px;
    font-weight: 700;
    color: #ff4757;
    margin: 8px 0;
}

.product-description {
    font-size: 13px;
    color: #666;
    line-height: 1.5;
    margin-bottom: 12px;
}

.product-actions {
    display: flex;
    gap: 8px;
}

.product-btn {
    flex: 1;
    padding: 8px 12px;
    border: none;
    border-radius: 8px;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-edit {
    background: #f0f0f0;
    color: #666;
}

.btn-edit:hover {
    background: #e0e0e0;
}

.btn-delete {
    background: #fff0f0;
    color: #ff4757;
}

.btn-delete:hover {
    background: #ffe0e0;
}

.btn-add-cart {
    background: white;
    color: #333;
    border: 1px solid #e0e0e0;
}

.btn-add-cart:hover {
    background: #f8f8f8;
    border-color: #d0d0d0;
}


/* è´­ç‰©è½¦å¾½ç«  */
.cart-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #ff4757;
    color: white;
    font-size: 10px;
    padding: 2px 5px;
    border-radius: 10px;
    min-width: 16px;
    text-align: center;
}

.shopping-cart-screen {
    height: 100vh;
    background: white;
    display: none;
    flex-direction: column;
    position:absolute; 
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 100; /* æé«˜å±‚çº§ */
    max-width: 375px; /* ä¿æŒæ‰‹æœºå®½åº¦ */
    margin: 0 auto;
}


.cart-content {
    flex: 1;
    overflow-y: auto;
    padding: 15px 20px;
}

.cart-item {
    background: white;
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 15px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    border: 1px solid #f0f0f0;
}

.cart-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.cart-item-name {
    font-size: 15px;
    font-weight: 600;
    color: #333;
    flex: 1;
}

.cart-item-price {
    font-size: 16px;
    font-weight: 700;
    color: #ff4757;
}

.cart-item-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.quantity-controls {
    display: flex;
    align-items: center;
    gap: 10px;
}

.quantity-btn {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: 1px solid #ddd;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.3s;
}

.quantity-btn:hover {
    background: #f0f0f0;
}

.quantity-btn:active {
    transform: scale(0.9);
}

.quantity-number {
    font-size: 15px;
    font-weight: 600;
    min-width: 30px;
    text-align: center;
}

.cart-item-delete {
    color: #ff4757;
    font-size: 13px;
    cursor: pointer;
    padding: 5px 10px;
}

.cart-item-delete:hover {
    text-decoration: underline;
}

/* ============ è´­ç‰©è½¦åº•éƒ¨å¸ƒå±€ ============ */
.cart-footer {
    padding: 20px;
    border-top: 1px solid #eee;
    background: white;
}
/* ç¬¬ä¸€è¡Œï¼šæ”¯ä»˜æ–¹å¼ + æ€»ä»· */
.cart-top-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 15px;
}
/* å·¦ä¾§ï¼šæ”¯ä»˜æ–¹å¼é€‰æ‹©ï¼ˆæ¨ªå‘ç´§å‡‘ï¼‰ */
/* å·¦ä¾§ï¼šæ”¯ä»˜æ–¹å¼é€‰æ‹©ï¼ˆå¼ºåˆ¶æ¨ªå‘ï¼‰ */
.payment-options {
    display: flex;
    flex-direction: row !important;  /* å¼ºåˆ¶æ¨ªå‘ */
    gap: 8px;
    flex-shrink: 0;
    align-items: center;
}
.payment-option {
    display: flex;
    align-items: center;
    padding: 5px 8px;  /* ç¼©å°å†…è¾¹è· */
    background: white;
    border: 1.5px solid #e0e0e0;  /* è¾¹æ¡†å˜ç»† */
    border-radius: 6px;  /* åœ†è§’å˜å° */
    cursor: pointer;
    transition: all 0.3s;
    white-space: nowrap;
}
.payment-option:hover {
    border-color: #667eea;
    background: #f8f9ff;
}
.payment-option.selected {
    border-color: #667eea;
    background: #f0f4ff;
}
.payment-radio {
    width: 14px;   /* ç¼©å°å•é€‰æŒ‰é’® */
    height: 14px;
    margin-right: 4px;  /* å‡å°é—´è· */
    cursor: pointer;
    flex-shrink: 0;
}
.payment-label {
    cursor: pointer;
    font-size: 12px;  /* ç¼©å°å­—ä½“ */
    color: #333;
    font-weight: 500;
}
/* å³ä¾§ï¼šæ€»ä»· */
.cart-total-inline {
    font-size: 16px;  /* ç¨å¾®ç¼©å° */
    font-weight: 600;
    color: #333;
}
.cart-total-inline span {
    color: #ff4757;
    font-size: 18px;  /* ç¨å¾®ç¼©å° */
}
/* ç¬¬äºŒè¡Œï¼šç»“ç®—æŒ‰é’® */
.btn-checkout {
    width: 100%;
    padding: 12px;  /* ç¨å¾®ç¼©å° */
    background: #667eea;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 15px;  /* ç¨å¾®ç¼©å° */
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
}
.btn-checkout:hover {
    background: #5a6fd8;
}
.btn-checkout:active {
    transform: scale(0.98);
}
.btn-checkout:disabled {
    background: #ccc;
    cursor: not-allowed;
    opacity: 0.6;
}

/* ============ è´­ç‰©è®¢å•å¡ç‰‡æ ·å¼ï¼ˆä¿æŒä¸å˜ï¼‰ ============ */
.shopping-order-card {
    max-width: 85%;
    padding: 12px 15px;
    border-radius: 12px;
    background: white;
    border: 2px solid #e0e0e0;
    cursor: pointer;
    transition: all 0.3s;
    margin: 10px 0;
}

.shopping-order-card:hover {
    border-color: #667eea;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
}

.order-card-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.order-icon {
    font-size: 20px;
}

.order-type-text {
    font-size: 15px;
    font-weight: 600;
    color: #333;
}

.order-status-row {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.order-status {
    font-size: 13px;
    font-weight: 600;
}

.order-status.status-paid {
    color: #1dd1a1;
}

.order-status.status-pending {
    color: #ff9f43;
}

.order-status.status-rejected {
    color: #999;
}

.order-amount {
    font-size: 16px;
    font-weight: 700;
    color: #ff4757;
}

.order-view-detail {
    font-size: 12px;
    color: #667eea;
    text-align: center;
    margin-top: 5px;
    cursor: pointer;
    user-select: none;
}

.order-view-detail:hover {
    color: #5a6fd8;
    text-decoration: underline;
}

.order-detail {
    display: none;
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px dashed #e0e0e0;
    animation: fadeIn 0.3s ease;
}

.order-detail.show {
    display: block;
}

.order-detail-title {
    font-size: 13px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}

.order-number {
    font-size: 12px;
    color: #999;
    margin-bottom: 10px;
}

.order-items-list {
    margin-bottom: 10px;
}

.order-item-row {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    color: #666;
    margin-bottom: 5px;
}

.order-divider {
    border: none;
    border-top: 1px solid #e0e0e0;
    margin: 10px 0;
}

.order-total-row {
    display: flex;
    justify-content: space-between;
    font-size: 14px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}

.order-info-row {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    color: #666;
    margin-bottom: 5px;
}


.cart-total {
    font-size: 18px;
    font-weight: 600;
    color: #333;
    margin-bottom: 15px;
    text-align: right;
}

.cart-total span {
    color: #ff4757;
    font-size: 22px;
}

.btn-checkout {
    width: 100%;
    padding: 14px;
    background: #667eea;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-checkout:hover {
    background: #5a6fd8;
}

.btn-checkout:active {
    transform: scale(0.98);
}

/* ç©ºçŠ¶æ€æ ·å¼ */
.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #999;
}

.empty-state-icon {
    font-size: 60px;
    margin-bottom: 15px;
}

.empty-state-text {
    font-size: 15px;
}
/* ========== è´­ç‰©/å¤–å–åˆ‡æ¢æŒ‰é’®æ ·å¼ ========== */
.shopping-switch-container {
    display: flex;
    background: #f0f2f5;
    padding: 3px;
    border-radius: 16px;
    border: 1px solid #e1e1e1;
}

.shopping-switch-btn {
    border: none;
    background: transparent;
    padding: 6px 16px;
    border-radius: 14px;
    font-size: 14px;
    font-weight: 500;
    color: #666;
    cursor: pointer;
    transition: all 0.3s ease;
}

/* é€‰ä¸­çŠ¶æ€ï¼šç™¾è´§ï¼ˆé»˜è®¤ç´«è‰²ï¼‰ */
.shopping-switch-btn.active {
    background: #667eea;
    color: white;
    box-shadow: 0 2px 6px rgba(102, 126, 234, 0.4);
}

/* é€‰ä¸­çŠ¶æ€ï¼šå¤–å–ï¼ˆæ©™è‰²ï¼Œç¨åæˆ‘ä»¬åœ¨JSé‡ŒåŠ¨æ€æ·»åŠ è¿™ä¸ªç±»ï¼‰ */
.shopping-switch-btn.active-food {
    background: #ff9f43 !important; /* å¼ºåˆ¶æ©™è‰² */
    color: white;
    box-shadow: 0 2px 6px rgba(255, 159, 67, 0.4);
}
/* ========== ç”µå•†/å¤–å– è¿›é˜¶æ ·å¼ ========== */

/* å•†å“æ ‡é¢˜ï¼šæ·˜å®é£ (ä¸¤è¡Œæ˜¾ç¤ºï¼Œå¤šå‡ºçœç•¥) */
.product-name.goods-title {
    font-size: 15px;
    font-weight: normal; /* æ·˜å®æ ‡é¢˜é€šå¸¸ä¸åŠ ç²—ï¼Œä½†å­—å¤š */
    line-height: 1.4;
    color: #333;
    margin-bottom: 8px;
    
    /* é™åˆ¶æ˜¾ç¤ºä¸¤è¡Œ */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* å¤–å–æ ‡é¢˜ï¼šç¾å›¢é£ (åŠ ç²—ï¼Œå•è¡Œæˆ–åŒè¡Œ) */
.product-name.food-title {
    font-size: 16px;
    font-weight: 700; /* å¤–å–å¼ºè°ƒèœå */
    color: #333;
    margin-bottom: 6px;
}

/* æ ‡ç­¾å®¹å™¨ */
.product-tags-row {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-bottom: 8px;
}

/* æ ‡ç­¾é€šç”¨æ ·å¼ */
.product-tag {
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 4px;
    border: 1px solid transparent;
}

/* ğŸ›ï¸ ç™¾è´§æ ‡ç­¾é£æ ¼ (çº¢/æ©™è‰²ç³») */
.tag-goods {
    color: #ff5000; /* æ·˜å®çº¢ */
    background: #fff0e6;
    border-color: #ffdec2;
}
/* ç¬¬ä¸€ä¸ªæ ‡ç­¾é€šå¸¸çªå‡ºä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨CSSé€‰æ‹©å™¨è®©å®ƒå˜å®å¿ƒ (å¯é€‰) */
.tag-goods:first-child {
    background: linear-gradient(90deg, #ff9000 0%, #ff5000 100%);
    color: white;
    border: none;
    border-radius: 2px;
}

/* ğŸ± å¤–å–æ ‡ç­¾é£æ ¼ (ç¾å›¢é»„/ç°) */
.tag-food {
    color: #666;
    background: #f4f4f4; /* ç°è‰²åº• */
}
/* å¤–å–çš„è¯„åˆ†æ ‡ç­¾ (é€šå¸¸æ˜¯ç¬¬ä¸€ä¸ª) é«˜äº® */
.tag-food:first-child {
    color: #ff9900; /* è¯„åˆ†é»„ */
    background: #fff8e1;
    font-weight: bold;
}

/* åº•éƒ¨ä»·æ ¼å’ŒæŒ‰é’®è¡Œ */
.product-bottom-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-top: 5px;
}

.product-price {
    color: #ff5000; /* æ·˜å®çº¢ä»·æ ¼ */
    font-weight: 700;
    font-size: 18px;
}
/* å¤–å–æ¨¡å¼ä»·æ ¼é¢œè‰²å¯ä»¥ç¨å¾®ä¸åŒ */
.food-title ~ .product-bottom-row .product-price {
    color: #ff4a4a; 
}

/* è¿·ä½ è´­ä¹°æŒ‰é’® */
.btn-mini-add {
    background: linear-gradient(90deg, #ff9000 0%, #ff5000 100%);
    color: white;
    border: none;
    padding: 5px 12px;
    border-radius: 12px;
    font-size: 12px;
    cursor: pointer;
}
/* å¤–å–æ¨¡å¼æŒ‰é’®å˜é»„ */
.food-title ~ .product-bottom-row .btn-mini-add {
    background: #ffd161; /* ç¾å›¢é»„ */
    color: #333;
    font-weight: 600;
}

.btn-text-only {
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
}
   /* ========== é’±åŒ…é¡µé¢æ ·å¼ (æ”¯ä»˜å®é£) ========== */
.wallet-container {
    flex: 1;
    background: #fff; /* æ•´ä½“ç™½è‰²èƒŒæ™¯ */
    overflow-y: auto;
    padding-bottom: 80px;
}

 /* ========== é’±åŒ…å¡ç‰‡ç¾åŒ– (Insç²¾è‡´çº¿æ¡é£) ========== */

/* 1. å¡ç‰‡ä¸»ä½“ï¼šå»æ²¹è…»ï¼Œæç®€ç™½ */
.alipay-card {
    /* ç§»é™¤æ‰€æœ‰æ¸å˜å’Œé˜´å½±ï¼Œæ”¹ä¸ºçº¯å‡€å¸ƒå±€ */
    background: transparent;
    border-radius: 0; 
    margin: 0;
    padding: 30px 25px 10px;
    color: #333;
    position: relative;
    text-align: center; /* å±…ä¸­å¯¹é½æ›´æœ‰æ‚å¿—æ„Ÿ */
}

/* ç§»é™¤ä¹‹å‰çš„å…‰æ•ˆè£…é¥° */
.alipay-card::after {
    display: none;
}

.balance-label {
    font-size: 13px;
    color: #999;
    text-transform: uppercase; /* å¤§å†™æ›´é«˜çº§ */
    letter-spacing: 1.5px;     /* å­—é—´è·å¢åŠ  */
    font-weight: 500;
    margin-bottom: 5px;
}

.balance-amount {
    font-size: 42px; /* æ›´å¤§æ›´ç»† */
    font-weight: 300; /* ç»†å­—ä½“ */
    margin-bottom: 25px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    color: #1a1a1a;
}

.wallet-actions {
    display: flex;
    justify-content: center; /* æŒ‰é’®å±…ä¸­ */
    gap: 15px;
}

/* 2. æŒ‰é’®ç¾åŒ–ï¼šInsé£æµ…ç°èƒ¶å›Š */
.wallet-act-btn {
    background: #f2f2f2; /* æµ…ç°èƒŒæ™¯ */
    border: none;
    color: #1a1a1a;
    padding: 12px 35px; /* æ›´å®½æ‰ */
    border-radius: 25px; /* å…¨åœ†è§’ */
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: none;
    backdrop-filter: none;
}

.wallet-act-btn:hover {
    background: #e5e5e5;
    transform: translateY(-1px);
}

.wallet-act-btn:active {
    transform: scale(0.98);
}

/* 3. åŠŸèƒ½åŒºï¼šçº¯çº¿æ¡å›¾æ ‡ */
.wallet-grid {
    display: flex;
    justify-content: space-around; /* åˆ†æ•£å¯¹é½ */
    padding: 15px 20px;
    border-bottom: 1px solid #f8f8f8; /* ææ·¡åˆ†å‰²çº¿ */
    margin-top: 10px;
}

.wallet-grid-item {
    flex: none; /* é˜²æ­¢æ‹‰ä¼¸ */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    width: 60px;
}

.wallet-icon {
    width: 44px;
    height: 44px;
    border-radius: 12px; /* å°åœ†è§’ */
    display: flex;
    align-items: center;
    justify-content: center;
    color: #333; /* å›¾æ ‡é¢œè‰²ï¼šæ·±é»‘ */
    background: #f9f9f9; /* ææ·¡çš„ç°è‰²åº•ï¼Œæˆ–è€…å¯ä»¥ç›´æ¥ transparent */
    border: 1px solid transparent; /* é¢„ç•™è¾¹æ¡†ä½ç½® */
    transition: all 0.3s;
}
/* æ‚¬åœæ—¶å›¾æ ‡ç•¥å¾®å˜æ·± */
.wallet-grid-item:hover .wallet-icon {
    background: #f0f0f0;
    color: #000;
}

.wallet-text {
    font-size: 12px;
    color: #666;
    font-weight: 500;
    letter-spacing: 0.5px;
}

/* 4. è´¦å•åˆ—è¡¨ï¼šæ‚å¿—æ’ç‰ˆ */
.bill-section {
    padding: 0 25px;
}

.bill-header {
    font-size: 18px;
    font-weight: 700;
    color: #1a1a1a;
    padding: 25px 0 15px;
    border-bottom: none; /* å»æ‰åˆ†å‰²çº¿ */
    letter-spacing: -0.5px;
}

.bill-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 18px 0;
    border-bottom: 1px solid #f8f8f8; /* æç»†çº¿ */
}

.bill-title {
    font-size: 15px;
    color: #333;
    font-weight: 500;
    margin-bottom: 4px;
}

.bill-time {
    font-size: 11px;
    color: #bbb; /* æ›´æ·¡çš„æ—¶é—´é¢œè‰² */
    font-weight: 400;
}

.bill-amount {
    font-size: 16px;
    font-weight: 600;
    font-family: -apple-system, BlinkMacSystemFont, monospace; /* æ•°å­—ç­‰å®½æ›´æœ‰è´¨æ„Ÿ */
}

.amount-income { color: #1a1a1a; } /* æ”¶å…¥ä¸ç”¨çº¢è‰²ï¼Œç”¨é«˜çº§é»‘ */
.amount-expense { color: #999; }   /* æ”¯å‡ºç”¨ç°è‰² */

/* ============ è´­ç‰©è½¦æ”¯ä»˜æ–¹å¼é€‰æ‹©æ ·å¼ ============ */
.cart-payment-section {
    padding: 15px 20px;
    background: #f8f8f8;
    border-top: 1px solid #eee;
}

.payment-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.payment-option {
    display: flex;
    align-items: center;
    padding: 5px 8px;
    background: white;
    border: 1.5px solid #e0e0e0;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s;
    white-space: nowrap;
    /* ç¡®ä¿æ²¡æœ‰ width: 100% æˆ– display: block */
}


.payment-radio {
    width: 12px !important;
    height: 12px !important;
    margin-right: 3px !important;
    cursor: pointer;
    flex-shrink: 0;
}

.payment-label {
    cursor: pointer;
    font-size: 11px !important;  /* è¶…å°å­—ä½“ */
    color: #333;
    font-weight: 500;
}


.payment-option:hover {
    border-color: #667eea;
    background: #f8f9ff;
}

.payment-option.selected {
    border-color: #667eea;
    background: #f0f4ff;
}

.payment-radio {
    width: 20px;
    height: 20px;
    margin-right: 12px;
    cursor: pointer;
    flex-shrink: 0;
}

.payment-label {
    flex: 1;
    cursor: pointer;
}

.payment-title {
    font-size: 15px;
    font-weight: 600;
    color: #333;
    margin-bottom: 3px;
}

.payment-desc {
    font-size: 12px;
    color: #999;
}

/* ç»“ç®—æŒ‰é’®ç¦ç”¨çŠ¶æ€ */
.btn-checkout:disabled {
    background: #ccc;
    cursor: not-allowed;
    opacity: 0.6;
}

/* ============ è´­ç‰©è®¢å•å¡ç‰‡æ ·å¼ ============ */
.shopping-order-card {
    max-width: 85%;
    padding: 12px 15px;
    border-radius: 12px;
    background: white;
    border: 2px solid #e0e0e0;
    cursor: pointer;
    transition: all 0.3s;
    margin: 10px 0;
}

.shopping-order-card:hover {
    border-color: #667eea;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
}

.order-card-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.order-icon {
    font-size: 20px;
}

.order-type-text {
    font-size: 15px;
    font-weight: 600;
    color: #333;
}

.order-status-row {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.order-status {
    font-size: 13px;
    font-weight: 600;
}

.order-status.status-paid {
    color: #1dd1a1;
}

.order-status.status-pending {
    color: #ff9f43;
}

.order-status.status-rejected {
    color: #999;
}

.order-amount {
    font-size: 16px;
    font-weight: 700;
    color: #ff4757;
}

.order-view-detail {
    font-size: 12px;
    color: #667eea;
    text-align: center;
    margin-top: 5px;
    cursor: pointer; /* ç¡®ä¿æœ‰è¿™è¡Œ */
    user-select: none; /* é˜²æ­¢æ–‡å­—è¢«é€‰ä¸­ */
}
.order-view-detail:hover {
    color: #5a6fd8;
    text-decoration: underline;
}

/* è®¢å•è¯¦æƒ…å±•å¼€ */
.order-detail {
    display: none;
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px dashed #e0e0e0;
    animation: fadeIn 0.3s ease;
}

.order-detail.show {
    display: block;
}

.order-detail-title {
    font-size: 13px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}

.order-number {
    font-size: 12px;
    color: #999;
    margin-bottom: 10px;
}

.order-items-list {
    margin-bottom: 10px;
}

.order-item-row {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    color: #666;
    margin-bottom: 5px;
}

.order-divider {
    border: none;
    border-top: 1px solid #e0e0e0;
    margin: 10px 0;
}

.order-total-row {
    display: flex;
    justify-content: space-between;
    font-size: 14px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}

.order-info-row {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    color: #666;
    margin-bottom: 5px;
}

.order-close-detail {
    text-align: center;
    font-size: 12px;
    color: #667eea;
    margin-top: 10px;
    cursor: pointer;
}

   /* ============ æ–°å¢ï¼šèŠå¤©åˆ—è¡¨åˆå¹¶å¤§å¡ç‰‡æ ·å¼ (å·²ä¿®å¤å·¦æ»‘æº¢å‡ºé—®é¢˜) ============ */

/* 1. å¤§å®¹å™¨ï¼šè¿™æ˜¯ä¸€ä¸ªæ‰¿è½½æ‰€æœ‰æ¶ˆæ¯çš„å¤§ç™½å— */
.chat-group-card {
    background: #ffffff;
    border-radius: 20px; /* å¤§åœ†è§’ */
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.03); /* æ•´ä½“çš„æ·¡é˜´å½± */
    overflow: hidden; /* ä¿è¯å†…éƒ¨å­å…ƒç´ ä¸æº¢å‡ºåœ†è§’ */
    margin-bottom: 20px;
    /* â–¼â–¼â–¼ æ–°å¢ï¼šç¡®ä¿å¤§å¡ç‰‡æœ¬èº«ä¹Ÿæœ‰ç›¸å¯¹å®šä½ï¼Œé˜²æ­¢å†…éƒ¨å…ƒç´ è·‘å â–¼â–¼â–¼ */
    position: relative; 
    z-index: 1;
}

/* 2. é‡ç½®æ¯ä¸€è¡Œçš„åŒ…è£…å™¨ (æ ¸å¿ƒä¿®å¤åŒº) */
.chat-item-wrapper {
    margin-bottom: 0 !important; /* å»æ‰è¡Œä¸è¡Œçš„é—´è· */
    border-radius: 0 !important; /* å»æ‰æ¯ä¸€è¡Œçš„åœ†è§’ */
    background: transparent;
    border-bottom: 0.5px solid #f0f0f0; /* æ·»åŠ æç»†åˆ†å‰²çº¿ */
    
    /* â–¼â–¼â–¼ å…³é”®ä¿®å¤ç‚¹ï¼šåŠ ä¸Šè¿™ä¸¤å¥ï¼ŒæŒ‰é’®å°±è¢«é”åœ¨æ¯ä¸€è¡Œé‡Œäº† â–¼â–¼â–¼ */
    position: relative !important;  /* è®©ç»å¯¹å®šä½çš„æŒ‰é’®ä»¥è¿™ä¸€è¡Œä¸ºåŸºå‡† */
    overflow: hidden !important;    /* è¿™ä¸€è¡Œå¤šä½™çš„å†…å®¹ç»Ÿç»Ÿè—èµ·æ¥ */
    height: auto;                   /* é«˜åº¦è‡ªé€‚åº” */
}

/* æœ€åä¸€è¡Œå»æ‰åˆ†å‰²çº¿ï¼Œå®Œç¾é—­åˆ */
.chat-item-wrapper:last-child {
    border-bottom: none;
}

/* 3. é‡ç½®æ¯ä¸€è¡Œçš„ç‚¹å‡»åŒºåŸŸ */
.chat-item {
    border-radius: 0 !important; /* å»æ‰åœ†è§’ */
    box-shadow: none !important; /* å»æ‰å•è¡Œé˜´å½± */
    background: transparent !important; /* èƒŒæ™¯é€æ˜ï¼Œé€å‡ºå¤§å¡ç‰‡çš„ç™½è‰² */
    padding: 18px 20px; /* ç¨å¾®å¢åŠ å†…è¾¹è·ï¼Œæ›´æœ‰å‘¼å¸æ„Ÿ */
    width: 100%; /* ç¡®ä¿å æ»¡å®½åº¦ */
    position: relative;
    z-index: 2; /* ç¡®ä¿å†…å®¹åœ¨æŒ‰é’®ä¸Šé¢ */
}

/* 4. æ‚¬åœæ•ˆæœæ”¹ä¸ºèƒŒæ™¯å˜è‰²ï¼Œè€Œä¸æ˜¯ä¸Šæµ® */
.chat-item:hover {
    transform: none !important; /* ç¦æ­¢ä¸Šæµ®ï¼Œé˜²æ­¢å’Œå·¦æ»‘å†²çª */
    background: #f9f9f9 !important; /* å¾®å¾®å˜ç° */
}

/* 5. ä¿®æ­£å·¦æ»‘æŒ‰é’®çš„å®šä½ */
.chat-actions {
    border-radius: 0 !important; /* å»æ‰åœ†è§’ï¼Œå› ä¸ºæ˜¯ç›´è§’çš„åˆ—è¡¨è¡Œ */
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0; /* ç¡®ä¿é«˜åº¦æ’‘æ»¡æ•´è¡Œ */
    height: 100%;
    z-index: 1; /* åœ¨å†…å®¹ä¸‹é¢ */
    /* ä¿æŒåŸæœ‰çš„ Flex å¸ƒå±€ */
    display: flex;
}

/* ============ æ–°å¢ï¼šåŒç»„ä»¶å¸ƒå±€æ ·å¼ (Insçº¿æ¡é£) ============ */

/* 1. ç»„ä»¶è¡Œå®¹å™¨ */
.widgets-row {
    display: flex;
    justify-content: space-between; /* å·¦å³è´´è¾¹å¯¹é½ */
    padding: 0 25px; /* å’Œä¸Šé¢çš„APPç½‘æ ¼è¾¹è·ä¿æŒè§†è§‰ä¸€è‡´ */
    gap: 15px;       /* ä¸¤ä¸ªç»„ä»¶ä¹‹é—´çš„ç©ºéš™ */
    margin-bottom: 20px;
    margin-top: 10px; /* å’Œä¸Šé¢APPæ‹‰å¼€ä¸€ç‚¹è·ç¦» */
}

/* 2. ç»„ä»¶é€šç”¨ç›’å­ (æ­£æ–¹å½¢) */
.widget-box {
    flex: 1; /* ä¸¤ä¸ªå¹³åˆ†å®½åº¦ */
    aspect-ratio: 1 / 1; /* å¼ºåˆ¶æ­£æ–¹å½¢ */
    
    /* === Insé«˜å†·çº¿æ¡é£æ ¼æ ¸å¿ƒ === */
    background: rgba(255, 255, 255, 0.1); /* ææ·¡çš„é€æ˜ç™½ */
    border: 1px solid rgba(255, 255, 255, 0.35); /* ç²¾è‡´çš„ç»†ç™½è¾¹æ¡† */
    border-radius: 22px; /* åœ†æ¶¦çš„è§’ */
    
    position: relative;
    overflow: hidden;
    color: white;
    transition: transform 0.2s;
    cursor: pointer;
}

.widget-box:active {
    transform: scale(0.96); /* ç‚¹å‡»æ—¶çš„å¾®ç¼©åé¦ˆ */
    background: rgba(255, 255, 255, 0.15);
}

/* === å·¦ä¾§ï¼šéŸ³ä¹ç»„ä»¶æ ·å¼ === */
.music-widget {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

/* éŸ³ä¹åœ†ç¯ (æ¨¡æ‹Ÿå”±ç‰‡/è¿›åº¦æ¡) */
.music-ring {
    width: 65px;
    height: 65px;
    border-radius: 50%;
    /* ä½¿ç”¨é”¥å½¢æ¸å˜æ¨¡æ‹Ÿè¿›åº¦æ¡æ•ˆæœ */
    background: conic-gradient(rgba(255,255,255,0.9) 0% 70%, rgba(255,255,255,0.2) 70% 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1); /* å¾®å¾®çš„æŠ•å½±å¢åŠ ç«‹ä½“æ„Ÿ */
    position: relative;
}

/* åœ†ç¯ä¸­é—´çš„é®ç½© (å½¢æˆç¯çŠ¶) */
/* ä¿®æ”¹ .music-ring::afterï¼Œè®©å®ƒåªä½œä¸ºèƒŒæ™¯é®ç½© */
.music-ring::after {
    content: '';
    position: absolute;
    width: 58px;
    height: 58px;
    background: rgba(255,255,255,0.1); 
    border-radius: 50%;
    backdrop-filter: blur(5px);
    z-index: 0; /* æ”¾åœ¨åº•å±‚ */
}

/* â–¼â–¼â–¼ æ–°å¢ï¼šåœ†ç¯å†…çš„å°é¢å›¾æ ·å¼ â–¼â–¼â–¼ */
.music-cover-img {
    position: absolute;
    width: 58px;
    height: 58px;
    border-radius: 50%;
    object-fit: cover;
    z-index: 1; /* åœ¨é®ç½©ä¹‹ä¸Šï¼Œä½†åœ¨å›¾æ ‡ä¹‹ä¸‹ */
    opacity: 0.8; /* ç¨å¾®é€æ˜ä¸€ç‚¹ç¬¦åˆInsé£ï¼Œæƒ³è¦æ¸…æ™°æ”¹æˆ 1 */
}

/* æ’­æ”¾å›¾æ ‡ */
.music-icon {
    font-size: 24px;
    z-index: 2; /* æµ®åœ¨æœ€ä¸Šé¢ */
    color: white;
    text-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
.widget-box {
    /* ...åŸæœ‰æ ·å¼... */
    background-size: cover !important; /* å¼ºåˆ¶èƒŒæ™¯å¡«æ»¡ */
    background-position: center !important;
}
.music-title {
    font-size: 13px;
    font-weight: 500;
    opacity: 0.9;
    letter-spacing: 0.5px;
}

.music-desc {
    font-size: 10px;
    opacity: 0.6;
    margin-top: 2px;
    font-weight: 300;
}

/* === å³ä¾§ï¼šä¾¿ç­¾ç»„ä»¶æ ·å¼ === */
.note-widget {
    padding: 18px;
    display: flex;
    flex-direction: column;
}

.note-header {
    font-size: 12px;
    font-weight: 600;
    opacity: 0.6;
    text-transform: uppercase; /* è‹±æ–‡å¤§å†™æ›´æ˜¾é«˜çº§ */
    letter-spacing: 1px;
    margin-bottom: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.2); /* æ ‡é¢˜åˆ†å‰²çº¿ */
    padding-bottom: 5px;
    display: flex;
    justify-content: space-between;
}

.note-list {
    list-style: none;
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.note-item {
    font-size: 13px;
    font-weight: 400;
    display: flex;
    align-items: center;
    gap: 6px;
    opacity: 0.9;
}

/* æç®€çš„å‹¾é€‰æ¡†è£…é¥° */
.note-checkbox {
    width: 12px;
    height: 12px;
    border: 1.5px solid rgba(255,255,255,0.6);
    border-radius: 4px;
    display: inline-block;
}
/* ç»„ä»¶ç»“æŸ */

/* ============ APIé¡µé¢ï¼šInsç²¾è‡´çº¿æ¡é£é‡åˆ¶ç‰ˆ ============ */

/* 1. èƒŒæ™¯ä¸å¸ƒå±€ï¼šæç®€ç°ç™½ */
.api-screen {
    background: #f9f9f9 !important; /* æ•´ä½“èƒŒæ™¯æ”¹æ·¡ç°ï¼Œçªå‡ºå¡ç‰‡ */
}

.api-content {
    padding: 20px 20px 40px; /* å¢åŠ åº•éƒ¨ç•™ç™½ */
}

/* 2. å¡ç‰‡å®¹å™¨ï¼šæ‚¬æµ®æ„Ÿç™½å— */
.api-card {
    background: #ffffff;
    border-radius: 24px; /* æ›´å¤§çš„åœ†è§’ */
    padding: 25px;
    margin-bottom: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.03); /* ææ·¡çš„é«˜çº§é˜´å½± */
    border: 1px solid rgba(0, 0, 0, 0.02);
}

/* 3. æ ‡é¢˜ï¼šå°å­—å¤§å†™ï¼Œé—´è·æ‹‰å¼€ */
.api-section-title {
    font-size: 12px;
    color: #999;
    font-weight: 600;
    letter-spacing: 1.5px; /* å­—é—´è· */
    text-transform: uppercase;
    margin-bottom: 18px;
    display: flex;
    align-items: center;
    gap: 6px;
}

/* 4. è¾“å…¥æ¡†ï¼šå»é»‘è¾¹ï¼Œæ”¹ç”¨æŸ”å’Œçº¿æ¡ */
.ins-input-group {
    margin-bottom: 18px;
}

.ins-label {
    display: block;
    font-size: 13px;
    color: #333;
    font-weight: 600;
    margin-bottom: 8px;
    margin-left: 4px;
}

.ins-input {
    width: 100%;
    padding: 14px 16px;
    background: #f8f8f8; /* ææ·¡ç°åº• */
    border: 1px solid #eee; /* æç»†è¾¹æ¡† */
    border-radius: 16px; /* åœ†æ¶¦ */
    font-size: 15px;
    color: #333;
    outline: none;
    transition: all 0.3s ease;
}

.ins-input:focus {
    background: #fff;
    border-color: #333; /* èšç„¦å˜é»‘çº¿æ¡ */
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.ins-input::placeholder {
    color: #ccc;
    font-size: 13px;
}

/* 5. æŒ‰é’®ï¼šæ ¸å¿ƒçº¿æ¡é£æ ¼ */
.ins-btn-row {
    display: flex;
    gap: 12px;
    margin-top: 10px;
}

/* é€šç”¨çº¿æ¡æŒ‰é’® */
.ins-line-btn {
    flex: 1;
    padding: 12px;
    background: transparent;
    border: 1.5px solid #e0e0e0; /* é»˜è®¤ç°çº¿æ¡ */
    border-radius: 30px; /* èƒ¶å›ŠçŠ¶ */
    font-size: 13px;
    font-weight: 600;
    color: #666;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

.ins-line-btn:active {
    transform: scale(0.96);
}

/* é»‘è‰²å®å¿ƒæŒ‰é’® (Primary) */
.ins-btn-black {
    background: #333;
    color: white;
    border: 1.5px solid #333;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}
.ins-btn-black:hover {
    background: #000;
}

/* è“è‰²çº¿æ¡ (Action) */
.ins-btn-blue-line {
    color: #667eea;
    border-color: #667eea;
    background: #f0f4ff;
}
.ins-btn-blue-line:hover {
    background: #667eea;
    color: white;
}

/* çº¢è‰²çº¿æ¡ (Delete) */
.ins-btn-red-line {
    color: #ff4757;
    border-color: #ff4757;
    background: #fff5f6;
}

/* åº•éƒ¨æ“ä½œæ å¸ƒå±€ */
.api-footer-actions {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 10px;
}

/* ============ å£çº¸/å›¾æ ‡é¡µé¢ï¼šInsé£é‡åˆ¶ç‰ˆ ============ */

/* 1. å…¨å±€èƒŒæ™¯ç»Ÿä¸€ */
.wallpaper-screen {
    background: #f9f9f9 !important;
}

/* 2. é¡¶éƒ¨é¢„è§ˆåŒºå¡ç‰‡åŒ– */
.ins-preview-card {
    background: white;
    border-radius: 24px;
    padding: 30px;
    margin-bottom: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.03);
    border: 1px solid rgba(0, 0, 0, 0.02);
}

/* 3. æ‰‹æœºé¢„è§ˆæ¡†ç¾åŒ– */
.ins-phone-frame {
    width: 140px;
    height: 240px;
    border-radius: 24px;
    border: 6px solid #333; /* æ¨¡æ‹Ÿæ‰‹æœºè¾¹æ¡† */
    overflow: hidden;
    position: relative;
    background: #f0f0f0;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    margin-bottom: 15px;
}

/* 4. ç²¾è‡´çš„åˆ†æ®µæ§åˆ¶å™¨ (Tabs) */
.ins-tab-group {
    background: #f0f0f0;
    padding: 4px;
    border-radius: 12px;
    display: flex;
    width: 100%;
    margin-bottom: 20px;
}

.ins-tab-btn {
    flex: 1;
    padding: 8px;
    border: none;
    background: transparent;
    border-radius: 10px;
    font-size: 13px;
    font-weight: 500;
    color: #999;
    cursor: pointer;
    transition: all 0.3s ease;
}

/* æ¿€æ´»çŠ¶æ€ï¼šç™½è‰²æ‚¬æµ®å— */
.ins-tab-btn.active {
    background: white;
    color: #333;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

/* 5. æç®€ä¸Šä¼ åŒºåŸŸ */
.ins-upload-area {
    border: 1.5px dashed #e0e0e0;
    border-radius: 16px;
    padding: 30px 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
    background: #fafafa;
}

.ins-upload-area:hover {
    border-color: #999;
    background: #f4f4f4;
}

.ins-upload-icon {
    font-size: 24px;
    margin-bottom: 8px;
    color: #ccc;
}

/* 6. å›¾æ ‡ç½‘æ ¼ä¼˜åŒ– */
.ins-icon-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
    padding: 10px 0;
}

.ins-icon-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    transition: transform 0.2s;
}

.ins-icon-item:active {
    transform: scale(0.95);
}

.ins-icon-preview-box {
    width: 56px;
    height: 56px;
    border-radius: 14px;
    background: white;
    border: 1px solid #eee;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    margin-bottom: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.03);
    overflow: hidden;
}

/* ============ ä¸–ç•Œä¹¦é¡µé¢ï¼šInsé£é‡åˆ¶ç‰ˆ ============ */

/* 1. å…¨å±€å®¹å™¨ */
.worldbook-screen {
    background: #f9f9f9 !important; /* ç»Ÿä¸€ç°åº• */
}

/* 2. åˆ†ç±»æ  (æ¨ªå‘æ»šåŠ¨) */
.ins-category-scroll {
    padding: 10px 20px 20px; /* å¢åŠ åº•éƒ¨ç•™ç™½ */
    overflow-x: auto;
    white-space: nowrap;
    display: flex;
    gap: 12px;
    /* éšè—æ»šåŠ¨æ¡ */
    scrollbar-width: none; 
    -ms-overflow-style: none;
}
.ins-category-scroll::-webkit-scrollbar {
    display: none;
}

/* 3. åˆ†ç±»æ ‡ç­¾ (èƒ¶å›Šé£æ ¼) */
.ins-cat-pill {
    padding: 8px 18px;
    border-radius: 30px;
    font-size: 13px;
    font-weight: 500;
    color: #999;
    background: white;
    border: 1px solid #eee;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0; /* é˜²æ­¢æŒ¤å‹ */
    box-shadow: 0 2px 8px rgba(0,0,0,0.02);
}

.ins-cat-pill.active {
    background: #333;
    color: white;
    border-color: #333;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

/* 4. ä¸–ç•Œä¹¦åˆ—è¡¨å®¹å™¨ */
.ins-book-list {
    padding: 0 20px 80px; /* åº•éƒ¨ç•™å‡ºç©ºé—´ç»™æ‚¬æµ®æŒ‰é’® */
}

/* 5. ä¸–ç•Œä¹¦å¡ç‰‡ (æ ¸å¿ƒæ ·å¼) */
.ins-book-card {
    background: white;
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 15px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.03);
    border: 1px solid rgba(0, 0, 0, 0.02);
    position: relative;
    transition: transform 0.2s;
}

.ins-book-card:active {
    transform: scale(0.98);
}

.ins-book-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 12px;
}

.ins-book-title {
    font-size: 16px;
    font-weight: 700;
    color: #333;
    line-height: 1.4;
}

.ins-book-tag {
    font-size: 10px;
    padding: 4px 10px;
    background: #f4f4f4;
    color: #666;
    border-radius: 8px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

.ins-book-preview {
    font-size: 13px;
    color: #888;
    line-height: 1.6;
    margin-bottom: 15px;
    /* é™åˆ¶æ˜¾ç¤º3è¡Œ */
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* 6. å¡ç‰‡åº•éƒ¨æ“ä½œæ  */
.ins-book-actions {
    display: flex;
    gap: 10px;
    border-top: 1px solid #f5f5f5;
    padding-top: 12px;
    justify-content: flex-end;
}

.ins-action-btn {
    padding: 6px 14px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    background: transparent;
    transition: all 0.2s;
}

.ins-btn-edit {
    color: #333;
    border: 1px solid #e0e0e0;
}
.ins-btn-edit:hover {
    background: #f0f0f0;
}

.ins-btn-del {
    color: #ff4757;
    border: 1px solid #ffeaea;
    background: #fffafa;
}
.ins-btn-del:hover {
    background: #ffe0e0;
    border-color: #ff4757;
}

/* 7. æ‚¬æµ®æ·»åŠ æŒ‰é’® (é»‘è‰²é«˜çº§ç‰ˆ) */
.ins-float-add {
    position: absolute;
    bottom: 30px;
    right: 25px;
    width: 56px;
    height: 56px;
    background: #333;
    color: white;
    border-radius: 20px; /* æ–¹åœ†å½¢ */
    border: none;
    font-size: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 25px rgba(0,0,0,0.25);
    cursor: pointer;
    z-index: 10;
    transition: transform 0.2s;
}

.ins-float-add:active {
    transform: scale(0.9);
}

/* ============ è§’è‰²ä¿¡æ¯é¡µï¼šIns æç®€é£é‡åˆ¶ ============ */

/* 1. èƒŒæ™¯ä¸å®¹å™¨ */
.ins-profile-screen {
    background: #f9f9f9 !important; /* æ•´ä½“æµ…ç°åº• */
    height: 100vh;
    display: flex;
    flex-direction: column;
}

/* 2. é¡¶éƒ¨ä¸ªäººèµ„æ–™å¡ */
.ins-profile-header {
    background: #fff;
    padding: 30px 20px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    border-bottom: 1px solid #f0f0f0;
    margin-bottom: 15px;
}

.ins-avatar-box {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    border: 2px solid #f0f0f0; /* å¤–åœˆè£…é¥°çº¿ */
    padding: 3px; /* å¤´åƒä¸åœˆçš„é—´è· */
    margin-bottom: 12px;
    cursor: pointer;
    transition: transform 0.3s;
}
.ins-avatar-box:active { transform: scale(0.95); }

.ins-avatar-img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: #e0e0e0;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
}
.ins-avatar-img img { width: 100%; height: 100%; object-fit: cover; }

.ins-char-name {
    font-size: 22px;
    font-weight: 700;
    color: #333;
    margin-bottom: 15px;
    letter-spacing: 0.5px;
}

/* ç²‰ä¸/æ—¥è®° æ•°æ®æ  */
.ins-stats-row {
    display: flex;
    justify-content: center;
    gap: 40px;
    width: 100%;
}
.ins-stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
}
.ins-stat-num {
    font-size: 18px;
    font-weight: 700;
    color: #333;
}
.ins-stat-label {
    font-size: 12px;
    color: #999;
    margin-top: 2px;
}

/* 3. è®¾ç½®åˆ—è¡¨ç»„ (åœ†è§’ç™½å—) */
.ins-list-group {
    background: #fff;
    border-radius: 16px;
    margin: 0 15px 15px;
    padding: 0 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.02);
}

/* åˆ—è¡¨è¡Œ */
.ins-list-item {
    display: flex;
    align-items: center;
    padding: 16px 0;
    border-bottom: 0.5px solid #f5f5f5; /* æç»†åˆ†å‰²çº¿ */
}
.ins-list-item:last-child { border-bottom: none; }

/* å·¦ä¾§å›¾æ ‡ */
.ins-item-icon {
    width: 22px;
    height: 22px;
    stroke: #333;
    stroke-width: 1.5;
    fill: none;
    margin-right: 12px;
    flex-shrink: 0;
}

/* æ ‡ç­¾æ–‡å­— */
.ins-item-label {
    font-size: 15px;
    color: #333;
    font-weight: 500;
    flex: 1; /* æ’‘å¼€ç©ºé—´ */
}

/* å³ä¾§è¾“å…¥æ¡†/å†…å®¹ */
.ins-item-input {
    border: none;
    text-align: right;
    font-size: 14px;
    color: #666;
    outline: none;
    background: transparent;
    width: 60%;
    font-family: inherit;
}
.ins-item-input::placeholder { color: #ccc; }

/* ç®­å¤´ */
.ins-arrow {
    color: #ccc;
    font-size: 18px;
    margin-left: 8px;
}

/* 4. ç‰¹æ®Šæ§ä»¶æ ·å¼ */
/* æ–‡æœ¬åŸŸå®¹å™¨ */
.ins-textarea-box {
    width: 100%;
    margin-top: 10px;
}
.ins-textarea {
    width: 100%;
    border: 1px solid #f0f0f0;
    background: #f9f9f9;
    border-radius: 12px;
    padding: 12px;
    font-size: 14px;
    color: #666;
    resize: none;
    outline: none;
    line-height: 1.5;
}
.ins-textarea:focus { border-color: #667eea; background: #fff; }

/* ä¸–ç•Œä¹¦é€‰æ‹©æ¡†ç¾åŒ– */
#worldbookSelector {
    border: none !important;
    background: #f9f9f9;
    border-radius: 12px !important;
    padding: 5px !important;
}

/* æ»‘åŠ¨æ¡ç¾åŒ– */
input[type=range] {
    accent-color: #667eea; /* æ»‘å—é¢œè‰² */
}

/* åº•éƒ¨å¤§æŒ‰é’® (å±…ä¸­èƒ¶å›Šç‰ˆ) */
.ins-save-btn {
    display: block;          /* å¿…é¡»æ˜¯å—çº§å…ƒç´  */
    width: 60%;              /* å®½åº¦è®¾ä¸º 60%ï¼Œä¸è¦å æ»¡ */
    max-width: 200px;        /* é™åˆ¶æœ€å¤§å®½åº¦ï¼Œé˜²æ­¢åœ¨å¤§å±å¤ªå®½ */
    margin: 30px auto 50px;  /* å…³é”®ï¼šå·¦å³ auto å®ç°å±…ä¸­ï¼Œä¸‹è¾¹è·ç•™å¤Ÿ */
    
    background: #333;        /* é«˜å†·é»‘ */
    color: #fff;
    border: none;
    padding: 15px;
    border-radius: 30px;     /* å…¨åœ†è§’ */
    font-size: 16px;
    font-weight: 600;
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    cursor: pointer;
    transition: transform 0.2s;
}
.ins-save-btn:active { transform: scale(0.95); }

/* ============ åŸå¸‚å¼¹çª—ç¾åŒ– ============ */

/* å¼¹çª—å®¹å™¨å¾®è°ƒ */
#cityInfoModal .modal {
    background: #f9f9f9; /* æµ…ç°åº•è‰² */
    border-radius: 24px; /* æ›´åœ†æ¶¦ */
    padding: 0;          /*ä»¥æ­¤æ¥ç®¡å†…è¾¹è· */
    overflow: hidden;
}

/* æ ‡é¢˜æ  */
.ins-modal-header {
    background: #fff;
    padding: 20px;
    text-align: center;
    font-size: 17px;
    font-weight: 700;
    color: #333;
    border-bottom: 0.5px solid #eee;
}

/* æ»šåŠ¨å†…å®¹åŒº */
.ins-modal-body {
    padding: 20px;
    max-height: 60vh;
    overflow-y: auto;
}

/* åˆ†ç»„æ ‡é¢˜ */
.ins-group-title {
    font-size: 12px;
    color: #999;
    margin: 15px 15px 8px;
    font-weight: 600;
    letter-spacing: 0.5px;
}
.ins-group-title:first-child { margin-top: 0; }

/* è·å–å¤©æ°”æŒ‰é’® (è“è‰²æ–‡å­—é“¾é£æ ¼) */
.ins-fetch-btn {
    width: 100%;
    padding: 15px;
    margin-top: 10px;
    background: #fff;
    border: none;
    border-radius: 16px;
    color: #667eea;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    box-shadow: 0 2px 10px rgba(0,0,0,0.02);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}
.ins-fetch-btn:active { background: #f0f0f0; }

/* ============ å¤©æ°”å¡ç‰‡ï¼šæ¸…æ–°è“å¤©ç‰ˆ ============ */

.weather-preview-card {
    /* èƒŒæ™¯ï¼šç»å…¸çš„â€œæ™´ç©ºè“â€æ¸å˜ */
    background: linear-gradient(160deg, #56CCF2 0%, #2F80ED 100%);
    
    border-radius: 20px;
    padding: 25px 22px;
    color: white;
    margin-top: 20px;
    /* æŠ•å½±æ”¹æˆæŸ”å’Œçš„è“è‰²å…‰æ™• */
    box-shadow: 0 8px 25px rgba(47, 128, 237, 0.4);
    position: relative;
    overflow: hidden;
}

/* è£…é¥°ï¼šå³ä¸Šè§’æ¨¡æ‹Ÿä¸€ä¸ªå°å¤ªé˜³çš„å…‰æ™• */
.weather-preview-card::before {
    content: '';
    position: absolute;
    top: -30px;
    right: -30px;
    width: 120px;
    height: 120px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    filter: blur(15px);
}

/* åŸå¸‚æ¿å— */
.weather-section {
    position: relative;
    z-index: 1;
}

/* ä¸ŠåŠéƒ¨åˆ†åˆ†å‰²çº¿ï¼šæ”¹æˆæŸ”å’Œçš„ç™½è‰²åŠé€æ˜çº¿ */
.weather-section.border-bottom {
    border-bottom: 1px solid rgba(255,255,255,0.3);
    padding-bottom: 15px;
    margin-bottom: 15px;
}

/* åŸå¸‚åç§° */
.weather-city-title {
    font-size: 17px;
    font-weight: 700;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1); /* æ–‡å­—åŠ ä¸€ç‚¹æŠ•å½±æ›´æ¸…æ™° */
}

/* å¤©æ°”æ•°æ®è¡Œ */
.weather-data-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 4px;
}

/* "ä»Šå¤©"çš„æ•°æ® */
.is-today {
    font-size: 15px;
    font-weight: 600;
}

/* "æ˜å¤©"çš„æ•°æ® */
.is-tomorrow {
    font-size: 13px;
    color: rgba(255,255,255,0.9); /* æ˜å¤©ç¨å¾®äº®ä¸€ç‚¹ï¼Œä¸ç”¨é‚£ä¹ˆç° */
}

/* æ›´æ–°æ—¶é—´è„šæ ‡ */
.weather-update-time {
    text-align: center; /* å±…ä¸­æ˜¾ç¤ºæ›´å¥½çœ‹ */
    font-size: 11px;
    color: rgba(255,255,255,0.6);
    margin-top: 15px;
    background: rgba(0,0,0,0.1); /* åŠ ä¸ªå°èƒŒæ™¯æ¡ */
    padding: 4px;
    border-radius: 10px;
    display: inline-block;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
}

/* åº•éƒ¨æŒ‰é’®æ  (å±…ä¸­ç‰ˆ) */
.ins-modal-footer {
    background: #fff;
    padding: 20px 20px 30px; /* åº•éƒ¨ç©ºé—´ç•™å¤§ä¸€ç‚¹ */
    display: flex;
    justify-content: center; /* â˜… å…³é”®ï¼šæ°´å¹³å±…ä¸­ */
    gap: 20px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
    border-top: 0.5px solid #eee;
}

/* æŒ‰é’®å¾®è°ƒï¼šè®©å®ƒç¨å¾®å®½ä¸€ç‚¹ï¼Œçœ‹èµ·æ¥æ›´ç¨³é‡ */
.ins-modal-footer .btn {
    min-width: 100px; /* é™åˆ¶æœ€å°å®½åº¦ */
    padding: 10px 20px;
}

/* ============ è®°å¿†ç©ºé—´æ ·å¼ ============ */
.memory-screen {
    height: 100vh;
    background: #f9f9f9;
    display: none;
    flex-direction: column;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    z-index: 150;
}

.memory-header {
    display: flex;
    align-items: center;
    padding: 20px;
    background: white;
    border-bottom: 1px solid #eee;
}

.memory-header-actions {
    display: flex;
    gap: 15px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
}

.memory-icon-btn {
    font-size: 20px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    color: #333;
    transition: transform 0.2s;
}

.memory-icon-btn:active {
    transform: scale(0.9);
}

/* é¡¶éƒ¨ Tab åˆ‡æ¢ */
.memory-tabs {
    display: flex;
    background: white;
    padding: 10px 20px;
    gap: 20px;
    border-bottom: 1px solid #f0f0f0;
}

.memory-tab-item {
    font-size: 15px;
    font-weight: 600;
    color: #999;
    padding-bottom: 8px;
    cursor: pointer;
    position: relative;
    transition: color 0.3s;
}

.memory-tab-item.active {
    color: #333;
    font-size: 16px;
}

.memory-tab-item.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 3px;
    background: #667eea;
    border-radius: 2px;
}

/* å†…å®¹åŒºåŸŸ */
.memory-content-area {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
}

/* --- 1. å°è±¡æ ‡ç­¾æ ·å¼ --- */
.memory-tags-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-content: flex-start;
}

.mem-tag {
    padding: 8px 16px;
    background: white;
    border-radius: 20px;
    font-size: 14px;
    color: #333;
    border: 1px solid #eee;
    box-shadow: 0 2px 8px rgba(0,0,0,0.03);
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 5px;
}

.mem-tag:active {
    transform: scale(0.95);
    background: #f5f5f5;
}

.mem-tag.pinned {
    border-color: #ffd700;
    background: #fffdf0;
}

.mem-tag-pin-icon {
    font-size: 10px;
    color: #ffa502;
}

/* --- 2. æ—¶å…‰ç›¸å†Œæ ·å¼ (æ—¶é—´è½´) --- */
.memory-timeline {
    position: relative;
    padding-left: 20px;
}

/* å‚ç›´çº¿ */
.memory-timeline::before {
    content: '';
    position: absolute;
    left: 0;
    top: 10px;
    bottom: 0;
    width: 2px;
    background: #e0e0e0;
    border-radius: 1px;
}

.timeline-item {
    margin-bottom: 25px;
    position: relative;
}

/* æ—¶é—´è½´ä¸Šçš„åœ†ç‚¹ */
.timeline-dot {
    position: absolute;
    left: -24px;
    top: 15px; /* å¯¹é½å¡ç‰‡é¡¶éƒ¨ */
    width: 10px;
    height: 10px;
    background: #667eea;
    border-radius: 50%;
    border: 2px solid white;
    box-shadow: 0 0 0 2px #e0e0e0;
}

.timeline-date {
    font-size: 12px;
    color: #999;
    margin-bottom: 6px;
    margin-left: 4px;
    font-weight: 500;
}

.timeline-card {
    background: white;
    border-radius: 12px;
    padding: 12px 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.03);
    border: 1px solid #f0f0f0;
    font-size: 14px;
    line-height: 1.5;
    color: #444;
    position: relative;
}

.timeline-card:active {
    background: #fafafa;
}

.timeline-edit-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 12px;
    color: #ccc;
    cursor: pointer;
    padding: 5px;
}

/* ç¼–è¾‘/æ·»åŠ è®°å¿†å¼¹çª—æ ·å¼å¾®è°ƒ */
.mem-type-switch {
    display: flex;
    background: #f0f0f0;
    padding: 4px;
    border-radius: 10px;
    margin-bottom: 15px;
}

.mem-type-btn {
    flex: 1;
    padding: 8px;
    border: none;
    border-radius: 8px;
    background: transparent;
    font-size: 13px;
    color: #666;
    cursor: pointer;
    transition: all 0.3s;
}

.mem-type-btn.active {
    background: white;
    color: #333;
    font-weight: 600;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}
/*è®°å¿†cssç»“æŸ*/

/* ============ ğŸ†• æ¡£æ¡ˆä¸­å¿ƒ (Archives) æ ·å¼ ============ */

/* 1. é¡¶éƒ¨ Tab æ é‡æ„ (ä¸‰æ®µå¼) */
.memory-tabs {
    justify-content: space-between; /* åˆ†æ•£å¯¹é½ */
    padding: 0 10px;
}

.memory-tab-item {
    flex: 1;
    text-align: center;
    font-size: 13px; /* å­—ä½“ç¨å¾®æ”¹å°ä¸€ç‚¹æ˜¾ç²¾è‡´ */
    padding: 12px 0;
    color: #999;
    font-weight: 500;
    transition: all 0.3s;
    letter-spacing: 0.5px;
}

.memory-tab-item.active {
    color: #333;
    font-weight: 600;
}

/* 2. æ¡£æ¡ˆé¡µå®¹å™¨ (Tab 1) */
.archive-container {
    padding: 20px;
    animation: fadeIn 0.3s ease;
}

/* AåŒºï¼šåŸºç¡€ä¿¡æ¯å¡ (è‡ªåŠ¨åŒæ­¥) */
.archive-card-base {
    display: flex;
    align-items: center;
    background: white;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.03);
    margin-bottom: 20px;
    border: 1px solid rgba(0,0,0,0.02);
}

.archive-avatar {
    width: 65px;
    height: 65px;
    border-radius: 50%;
    margin-right: 20px;
    background: #f0f0f0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 30px;
    border: 3px solid rgba(255,255,255,0.8);
    box-shadow: 0 0 0 1px #eee; /* ç»†è¾¹æ¡†è£…é¥° */
}
.archive-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }

.archive-base-info {
    flex: 1;
}

.archive-name {
    font-size: 18px;
    font-weight: 700;
    color: #333;
    margin-bottom: 5px;
    display: flex;
    align-items: center;
    gap: 6px;
}

.archive-meta-row {
    font-size: 12px;
    color: #999;
    display: flex;
    gap: 10px;
    font-family: -apple-system, sans-serif;
}

/* BåŒºï¼šç§å¯†æ•°æ®ç½‘æ ¼ (æ‹“å±•æ•°æ®) */
.archive-grid-box {
    background: white;
    border-radius: 16px;
    overflow: hidden; /* åœ†è§’è£å‰ª */
    border: 1px solid #f0f0f0;
    display: grid;
    grid-template-columns: 1fr 1fr; /* ä¸¤åˆ— */
    margin-bottom: 20px;
}

.archive-grid-item {
    padding: 15px;
    border-bottom: 1px solid #f0f0f0;
    border-right: 1px solid #f0f0f0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

/* å»æ‰å¶æ•°åˆ—çš„å³è¾¹æ¡† */
.archive-grid-item:nth-child(2n) {
    border-right: none;
}
/* å»æ‰æœ€åä¸€è¡Œçš„ä¸‹è¾¹æ¡† */
.archive-grid-item:nth-last-child(-n+2) {
    border-bottom: none;
}

.grid-label {
    font-size: 10px;
    color: #aaa;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.grid-value {
    font-size: 14px;
    font-weight: 600;
    color: #333;
}

/* CåŒºï¼šæ·±åº¦æ¡£æ¡ˆ (é•¿æ–‡æœ¬) */
.archive-deep-section {
    margin-bottom: 20px;
}

.archive-section-title {
    font-size: 12px;
    color: #667eea; /* ä¸»é¢˜è‰² */
    font-weight: 700;
    margin-bottom: 10px;
    letter-spacing: 1px;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 6px;
}

.archive-text-box {
    background: #fff;
    padding: 15px;
    border-radius: 12px;
    font-size: 13px;
    line-height: 1.6;
    color: #555;
    border: 1px solid #f0f0f0;
}

/* é¡¶éƒ¨ Header çš„æ°›å›´æ„Ÿå‰¯æ ‡é¢˜ */
.archive-subtitle {
    text-align: center;
    font-size: 11px;
    color: #ccc;
    font-style: italic;
    margin: -10px 0 15px 0;
    font-family: serif; /* è¡¬çº¿ä½“æ˜¾é«˜çº§ */
}

/* ç¼–è¾‘æŒ‰é’® (ä½äºTab 1å³ä¸Šè§’) */
.archive-edit-float {
    position: fixed;
    bottom: 30px;
    right: 25px;
    width: 50px;
    height: 50px;
    background: white;
    color: #333;
    border-radius: 20px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    z-index: 100;
    border: 1px solid #f0f0f0;
    cursor: pointer;
    transition: transform 0.2s;
}
.archive-edit-float:active { transform: scale(0.95); }
/* === æ¡£æ¡ˆå¡ç‰‡ä¿®æ­£ä¸åˆ†ææŒ‰é’®æ ·å¼ === */

/* 1. ä¿®æ­£å¡ç‰‡åŸºå‡†å®šä½ */
.archive-card-base {
    position: relative; /* å…³é”®ï¼šä¸ºäº†è®©é‡Œé¢çš„æŒ‰é’®èƒ½ç»å¯¹å®šä½ */
    /* åŸæœ‰æ ·å¼ä¿æŒä¸å˜ */
    display: flex;
    align-items: center;
    background: white;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.03);
    margin-bottom: 20px;
    border: 1px solid rgba(0,0,0,0.02);
}

/* 2. åˆ†ææŒ‰é’®æ ·å¼ (Insé£é»‘åº•èƒ¶å›Š) */
/* ä¿®æ”¹è¿™ä¸€æ®µ */
.archive-analyze-btn {
    position: absolute;
    
    /* â–¼â–¼â–¼ ä¿®æ”¹è¿™é‡Œï¼šä» top æ”¹ä¸º bottom â–¼â–¼â–¼ */
    top: auto;        /* å¿…é¡»é‡ç½® top */
    bottom: 15px;     /* å›ºå®šåœ¨å³ä¸‹è§’ */
    right: 15px;
    
    /* æ ·å¼ä¿æŒä¸å˜ */
    background: #333;
    color: white;
    border: none;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    display: flex;
    align-items: center;
    gap: 4px;
    z-index: 10;
}
.archive-analyze-btn:hover {
    transform: scale(1.05);
    background: #000;
}

.archive-analyze-btn:active {
    transform: scale(0.95);
}

.archive-analyze-btn.loading {
    background: #ccc;
    cursor: wait;
}
/* ============ æ¶ˆæ¯å¼•ç”¨æ ·å¼ (æ°”æ³¡å¤–éƒ¨æ˜¾ç¤º) ============ */
.message-quoted-outside {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    margin-bottom: 4px;
    background: rgba(0, 0, 0, 0.04);
    border-radius: 12px;
    font-size: 12px;
    color: #888;
    cursor: pointer;
    max-width: 100%;
    overflow: hidden;
    transition: background 0.2s;
}

.message-quoted-outside:hover {
    background: rgba(0, 0, 0, 0.08);
}

/* å¼•ç”¨çš„ä½œè€…å */
.quoted-author {
    color: #667eea;
    font-weight: 600;
    flex-shrink: 0;
}

/* å¼•ç”¨çš„å†…å®¹æ–‡å­— */
.quoted-text {
    color: #666;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    flex: 1;
}

/* æˆ‘å‘é€çš„æ¶ˆæ¯ï¼Œå¼•ç”¨æ¡é å³å¯¹é½ */
.message-item.me .message-quoted-outside {
    justify-content: flex-end;
    background: rgba(102, 126, 234, 0.1);
}

/* ç§»é™¤ order å±æ€§ï¼Œä¿æŒæ­£å¸¸é¡ºåºï¼šä½œè€…åœ¨å‰ï¼Œå†…å®¹åœ¨å */
.message-item.me .quoted-author {
    flex-shrink: 0;
}

.message-item.me .quoted-text {
    text-align: right;
}
/* ============ å¼•ç”¨æ¶ˆæ¯é¢„è§ˆæ¡†æ ·å¼ ============ */
.quote-box {
    background: #f5f5f5;
    margin: 0 15px 10px;
    padding: 12px 15px;
    border-radius: 12px;
    position: relative;
}

.quote-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
}

#quoteAuthor {
    font-size: 12px;
    color: #333;
    font-weight: 600;
}

.quote-close {
    font-size: 20px;
    color: #999;
    cursor: pointer;
    padding: 0 5px;
    line-height: 1;
}

.quote-close:hover {
    color: #ff4757;
}

#quoteContent {
    font-size: 13px;
    color: #666;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
}
